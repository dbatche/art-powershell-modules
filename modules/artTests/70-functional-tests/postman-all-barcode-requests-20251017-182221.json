[
  {
    "ID": "fabde999-7b70-41d9-b9f3-0ccdacf05999",
    "Name": "Expand All Child Resources and check for barcodes",
    "Method": "GET",
    "URL": "{{DOMAIN}}{{tempPath}}",
    "Folder": "OpenAPI Document",
    "Request": {
      "name": "Expand All Child Resources and check for barcodes",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "d90bb47b-bb4b-4295-b6ac-7f70d4fd6168",
            "exec": [
              "if (utils.testStatusCode(200).status) {\r",
              "    let pmResponse = pm.response.json();\r",
              "\r",
              "    for (const [key, childResource] of Object.entries(pmResponse))\r",
              "    {\r",
              "        if(!childResource){ continue; }\r",
              "        if(typeof childResource  !== 'object'){ continue; }\r",
              "\r",
              "        isArray = Object.prototype.toString.call(childResource) == '[object Array]';\r",
              "        if(isArray){\r",
              "            if (key == 'xStops'){\r",
              "                console.log(\"skipping xStops since posted_orderId is not a master bill.\")\r",
              "            }\r",
              "            else{\r",
              "                //Check the length to ensure there's data to test the fields\r",
              "                pm.test(\"Child resource \"+key+\" Array set\", function () {\r",
              "                    pm.expect(childResource).to.have.lengthOf.greaterThan(0);\r",
              "                });\r",
              "            }\r",
              "        }\r",
              "\r",
              "        pm.test(\"Barcodes do not exist in child resource: \"+key, function () {\r",
              "            pm.expect(childResource).to.not.have.property('barcodes');\r",
              "        });\r",
              "        \r",
              "    }\r",
              "}"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "b3444277-655c-4c02-a030-5a1e8cceaa58",
            "exec": [
              "let schemas = pm.globals.get('apiSchemas');\r",
              "//console.log('schemas',schemas);\r",
              "//console.log('schemas.order',schemas.order.properties);\r",
              "\r",
              "let tempPath = \"/orders/\"+pm.environment.get(\"POSTED_orderId\")+\"?expand=\";\r",
              "for (el in schemas.order.properties) \r",
              "{\r",
              "    //console.log('what does el equal on this loop:',el);\r",
              "    if(schemas.order.properties[el].type == 'array'){\r",
              "        tempPath += el+\",\";\r",
              "    }\r",
              "}\r",
              "\r",
              "tempPath = tempPath.substring(0, tempPath.length - 1);\r",
              "//console.log('tempPath', tempPath);\r",
              "pm.variables.set('tempPath', tempPath);\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "fabde999-7b70-41d9-b9f3-0ccdacf05999",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}{{tempPath}}",
          "host": [
            "{{DOMAIN}}{{tempPath}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-fabde999-7b70-41d9-b9f3-0ccdacf05999"
    }
  },
  {
    "ID": "d99bfc32-f055-4ed8-8404-993a3bf170aa",
    "Name": "details/barcodes",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders?expand=details/barcodes&limit=1",
    "Folder": "orders / GET / 200 / expand",
    "Request": {
      "name": "details/barcodes",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "ba4bc586-df95-4367-a0ca-4148d25ba72f",
            "exec": [
              "//Initial tests in the parent 200 folder Tests tab\r",
              "//Additional test in the parent 'expand' folder Tests tab\r",
              "if (pm.response.code == 200) {\r",
              "\r",
              "}\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "df30fad0-b83e-47cf-a568-f00480cf9751",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "d99bfc32-f055-4ed8-8404-993a3bf170aa",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders?expand=details/barcodes&limit=1",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders"
          ],
          "query": [
            {
              "key": "expand",
              "value": "details/barcodes"
            },
            {
              "key": "limit",
              "value": "40",
              "disabled": true
            },
            {
              "key": "offset",
              "value": "1750",
              "disabled": true
            },
            {
              "key": "limit",
              "value": "1"
            }
          ]
        },
        "description": "Expand barcodes (access now as a sub-resource of the details resource)"
      },
      "response": [],
      "uid": "8229908-d99bfc32-f055-4ed8-8404-993a3bf170aa"
    }
  },
  {
    "ID": "b4bf052a-56cd-41d1-bdb5-9158ef262df6",
    "Name": "details, details/barcodes",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders?expand=details,details/barcodes",
    "Folder": "orders / GET / 200 / expand",
    "Request": {
      "name": "details, details/barcodes",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "f2e6d53b-6e52-4312-b54a-6b32da852081",
            "exec": [
              "//Initial tests in the parent 200 folder Tests tab\r",
              "//Additional test in the parent 'expand' folder Tests tab\r",
              "if (pm.response.code == 200) {\r",
              "\r",
              "}"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "179f04f0-a2a3-473f-97cd-ec4bbdc20c7a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "b4bf052a-56cd-41d1-bdb5-9158ef262df6",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders?expand=details,details/barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders"
          ],
          "query": [
            {
              "key": "expand",
              "value": "details,details/barcodes"
            },
            {
              "key": "limit",
              "value": "40",
              "disabled": true
            },
            {
              "key": "offset",
              "value": "1750",
              "disabled": true
            }
          ]
        },
        "description": "Expand barcodes (access now as a sub-resource of the details resource)"
      },
      "response": [],
      "uid": "8229908-b4bf052a-56cd-41d1-bdb5-9158ef262df6"
    }
  },
  {
    "ID": "fc1df602-786b-4e8c-84c1-54c094962ce0",
    "Name": "details/barcodes/altBarcode1 NE NULL",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders?$filter=details/barcodes/altBarcode1 ne null&expand=details,details/barcodes&limit=1",
    "Folder": "orders / GET / 200 / $filter",
    "Request": {
      "name": "details/barcodes/altBarcode1 NE NULL",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7c4ef2ef-2715-40bf-823b-49c7c8fa1523",
            "exec": [
              "//Initial tests in the parent 200 folder Tests tab",
              "",
              "if (utils.testStatusCode(200).status) {",
              "",
              "}"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "3db6d0ad-6533-402f-aa67-6352dbcb8267",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "fc1df602-786b-4e8c-84c1-54c094962ce0",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders?$filter=details/barcodes/altBarcode1 ne null&expand=details,details/barcodes&limit=1",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders"
          ],
          "query": [
            {
              "key": "$filter",
              "value": "details/barcodes/altBarcode1 ne null"
            },
            {
              "key": "expand",
              "value": "details,details/barcodes"
            },
            {
              "key": "limit",
              "value": "1"
            }
          ]
        },
        "description": "This will locate the freight bill record that contains the ‘Alt Barcode 1’ value that matches the passed filtering parameter and expand all order details, including the nested barcode information  for each detail row."
      },
      "response": [],
      "uid": "8229908-fc1df602-786b-4e8c-84c1-54c094962ce0"
    }
  },
  {
    "ID": "e0fdc8d6-2f4b-499d-bd1d-83433cc7b88d",
    "Name": "details + barcodes, billNumber specified",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders",
    "Folder": "orders / POST / 201 / details",
    "Request": {
      "name": "details + barcodes, billNumber specified",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "e3c4b2fa-37c9-4df9-9917-adc01f01b5a4",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "29714a5b-e739-4d46-b8ff-f5b07544b505",
            "exec": [
              "function randomString(dataSet = 'abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ') {\r",
              "\r",
              "    let length = lodash.random(17, 17), randomString = \"\";\r",
              "    for (let i = 0; i < length; i++)\r",
              "        randomString += dataSet.charAt(Math.floor(Math.random() * dataSet.length));\r",
              "    return randomString;\r",
              "}\r",
              "pm.variables.set('randomBillNumber', randomString());"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "e0fdc8d6-2f4b-499d-bd1d-83433cc7b88d",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "name": "Content-Type",
            "type": "text",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"orders\": [\r\n        {\r\n            \"billNumber\":\"{{randomBillNumber}}\",\r\n            \"pickUpBy\": \"{{timestampUtcIso8601}}\",\r\n            \"pickUpByEnd\": \"{{timestampUtcIso8601}}\",\r\n            \"deliverBy\": \"{{timestampUtcIso8601}}\",\r\n            \"deliverByEnd\": \"{{timestampUtcIso8601}}\",\r\n            \"startZone\": \"BCLAN\",\r\n            \"caller\": {\r\n                \"clientId\": \"TM\",\r\n                \"name\": \"{{$randomFullName}}\"\r\n            },\r\n            \"details\": [\r\n                {\r\n                    \"commodity\": \"FAK\",\r\n                    \"items\": 1,\r\n                    \"barcodes\": [\r\n                        {\r\n                            \"altBarcode1\": \"{{$randomProduct}}\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders"
          ]
        }
      },
      "response": [],
      "uid": "8229908-e0fdc8d6-2f4b-499d-bd1d-83433cc7b88d"
    }
  },
  {
    "ID": "5b71b4c6-ab0c-4dc4-8498-953705fb4e11",
    "Name": "minimal order with details + barcodes - Quote",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders?type=Q",
    "Folder": "orders / POST / 201 / details",
    "Request": {
      "name": "minimal order with details + barcodes - Quote",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "1a71d097-20ce-4ae9-bbce-f56c88003e97",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "5b71b4c6-ab0c-4dc4-8498-953705fb4e11",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "name": "Content-Type",
            "type": "text",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"orders\": [\r\n        {\r\n            \"pickUpBy\": \"{{timestampUtcIso8601}}\",\r\n            \"pickUpByEnd\": \"{{timestampUtcIso8601}}\",\r\n            \"deliverBy\": \"{{timestampUtcIso8601}}\",\r\n            \"deliverByEnd\": \"{{timestampUtcIso8601}}\",\r\n            \"startZone\": \"BCLAN\",\r\n            \"endZone\":\"{{END_ZONE}}\",\r\n            \"caller\": {\r\n                \"clientId\": \"TM\",\r\n                \"name\": \"{{$randomFullName}}\"\r\n            },\r\n            \"details\": [\r\n                {\r\n                    \"commodity\": \"FAK\",\r\n                    \"description\": \"minimal order with details + barcodes\",\r\n                    \"items\": 1,\r\n                    \"barcodes\": [\r\n                        {\r\n                            \"altBarcode1\": \"{{$randomProduct}}\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders?type=Q",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders"
          ],
          "query": [
            {
              "key": "type",
              "value": "Q"
            }
          ]
        }
      },
      "response": [],
      "uid": "8229908-5b71b4c6-ab0c-4dc4-8498-953705fb4e11"
    }
  },
  {
    "ID": "d443caa0-90eb-4b3c-a6cf-b1a59355c931",
    "Name": "billNumber + barcodes",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders",
    "Folder": "orders / POST / 4xx / invalidBusinessLogic",
    "Request": {
      "name": "billNumber + barcodes",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "54420163-b0d4-44dd-aeec-ac1d8c0ae2ec",
            "exec": [
              "utils.testInvalidBusinessLogicResponse('existing order');"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "088e40ae-2741-47bb-afdb-f2db4226a75c",
            "exec": [
              "pm.sendRequest\r",
              "(\r",
              "    {\r",
              "        url: pm.environment.get(\"DOMAIN\") + \"/orders?$filter=details/barcodes/altBarcode1 ne null\",\r",
              "        method: 'GET',\r",
              "        header: \r",
              "        {\r",
              "            'Accept': 'application/json',\r",
              "            'Content-Type': 'application/Json',\r",
              "            'Authorization': 'Bearer ' + pm.variables.replaceIn('{{TRUCKMATE_API_KEY}}')\r",
              "        }\r",
              "    }, \r",
              "    function (err, response) \r",
              "    {\r",
              "        if (err) \r",
              "        {\r",
              "            console.error('error:\\n', err, 'Response: \\n', response.text());\r",
              "            throw new Error(\"An error has occurred. Check logs.\");\r",
              "        }\r",
              "        if (response.code == 200) \r",
              "        {\r",
              "            let jsonData = response.json(); \r",
              "            pm.variables.set(\"barcodesBillNumber\", 'There is an existing order with the same billNumber with barcodes attached.');\r",
              "            if(jsonData.orders[0]){\r",
              "                pm.variables.set(\"barcodesBillNumber\", jsonData.orders[0].billNumber);\r",
              "            }\r",
              "\r",
              "        }\r",
              "    }\r",
              ");"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "d443caa0-90eb-4b3c-a6cf-b1a59355c931",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "name": "Content-Type",
            "type": "text",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"orders\": [\r\n        {\r\n            \"billNumber\": \"{{barcodesBillNumber}}\",\r\n            \"pickUpBy\": \"{{timestampUtcIso8601}}\",\r\n            \"pickUpByEnd\": \"{{timestampUtcIso8601}}\",\r\n            \"deliverBy\": \"{{timestampUtcIso8601}}\",\r\n            \"deliverByEnd\": \"{{timestampUtcIso8601}}\",\r\n            \"startZone\": \"BCLAN\",\r\n            \"caller\": {\r\n                \"clientId\": \"TM\",\r\n                \"name\": \"{{$randomFullName}}\"\r\n            },\r\n            \"details\": [\r\n                {\r\n                    \"commodity\": \"FAK\",\r\n                    \"items\":1,\r\n                    \"barcodes\":[\r\n                        {\r\n                            \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\"\r\n                        }\r\n                    ]\r\n                    \r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders"
          ]
        }
      },
      "response": [],
      "uid": "8229908-d443caa0-90eb-4b3c-a6cf-b1a59355c931"
    }
  },
  {
    "ID": "82e72f49-2419-4d08-8e7d-4bfd94cc80bd",
    "Name": "details/barcodes",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}?expand=details/barcodes",
    "Folder": "orders / orderId / GET / 200 / expand",
    "Request": {
      "name": "details/barcodes",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "f4a71e4c-6712-48c3-a5d1-0b6a066f5b1e",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f5aec988-1904-4746-b7fd-dd0efa9dfb00",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "82e72f49-2419-4d08-8e7d-4bfd94cc80bd",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}?expand=details/barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}"
          ],
          "query": [
            {
              "key": "expand",
              "value": "details/barcodes"
            }
          ]
        },
        "description": "Expand barcodes (access now as a sub-resource of the details resource)"
      },
      "response": [],
      "uid": "8229908-82e72f49-2419-4d08-8e7d-4bfd94cc80bd"
    }
  },
  {
    "ID": "b0042daa-4ceb-4159-9bb6-11b7d7769c02",
    "Name": "details,details/barcodes",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}?expand=details,details/barcodes",
    "Folder": "orders / orderId / GET / 200 / expand",
    "Request": {
      "name": "details,details/barcodes",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "a2d48f7b-d442-4564-81ba-637c9b3fc654",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "3e8e7b80-a410-4bdf-9a94-b3f8c3f8eacc",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "b0042daa-4ceb-4159-9bb6-11b7d7769c02",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}?expand=details,details/barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}"
          ],
          "query": [
            {
              "key": "expand",
              "value": "details,details/barcodes"
            }
          ]
        },
        "description": "Expand both details and details/barcodes"
      },
      "response": [],
      "uid": "8229908-b0042daa-4ceb-4159-9bb6-11b7d7769c02"
    }
  },
  {
    "ID": "95d1722b-16f4-4368-aeb1-ec5c0d0ef287",
    "Name": "details/barcodes - webUser Auth TM-172155",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}?expand=details,details/barcodes",
    "Folder": "orders / orderId / GET / 200 / expand",
    "Request": {
      "name": "details/barcodes - webUser Auth TM-172155",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "fc177f30-7b5f-4cd0-a3cc-d07f468cf312",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "714cf26d-aa43-44d8-a079-aa1d7815376b",
            "exec": [
              "utils.loginTM4WebUser(pm);"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "95d1722b-16f4-4368-aeb1-ec5c0d0ef287",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{temp_JWT}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": ""
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}?expand=details,details/barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}"
          ],
          "query": [
            {
              "key": "expand",
              "value": "details,details/barcodes"
            }
          ]
        }
      },
      "response": [],
      "uid": "8229908-95d1722b-16f4-4368-aeb1-ec5c0d0ef287"
    }
  },
  {
    "ID": "ef88e727-c95b-46eb-a09d-bc4a88c38209",
    "Name": "single wo barcodeId",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 200 / details / details.barcodes",
    "Request": {
      "name": "single wo barcodeId",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0b95000e-0dae-44c3-bf47-6b0716be8f5f",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "3bd03cf5-cd3a-4d6c-9f20-8579cec40d4c",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"OriginaAl\",\r",
              "                            \"altBarcode2\": \"OriginaA2\", \r",
              "                            \"weight\": 0,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"orders | orderDetailId = \"+resp.orders[0].details[0].barcodes[0].orderId+\" | \"+resp.orders[0].details[0].barcodes[0].orderDetailId);\r",
              "        console.log(\"Update barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('original_barcodeId', barcodeId);\r",
              "    }     \r",
              ");\r",
              "// pm.variables.set('temp_orderId', 77); "
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "ef88e727-c95b-46eb-a09d-bc4a88c38209",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"details\": [\n        {\n            \"items\": 1,\n            \"barcodes\": [\n                {\n                    \"altBarcode1\": \"Replace1\",\n                    \"weight\": {{$randomInt}},\n                    \"weightUnits\": \"LB\",\n                    \"user1\": \"{{$randomProduct}}\",\n                    \"user2\": \"{{$randomProduct}}\",\n                    \"user3\": \"{{$randomProduct}}\",\n                    \"user4\": \"{{$randomProduct}}\",\n                    \"user5\": \"{{$randomProduct}}\"\n                }\n            ]\n        }\n    ]\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-ef88e727-c95b-46eb-a09d-bc4a88c38209"
    }
  },
  {
    "ID": "f8f4d70d-bd68-4083-b572-73bb1ac143cd",
    "Name": "single wo barcodeId wo items",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 200 / details / details.barcodes",
    "Request": {
      "name": "single wo barcodeId wo items",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0b95000e-0dae-44c3-bf47-6b0716be8f5f",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "3bd03cf5-cd3a-4d6c-9f20-8579cec40d4c",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"OriginaAl\",\r",
              "                            \"altBarcode2\": \"OriginaA2\", \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        let barcodeData = lodash.flatten(lodash.map(resp.orders[0].details, 'barcodes'));\r",
              "        console.log('New order result barcodeData', barcodeData);\r",
              "        pm.variables.set('originalBarcodes', barcodeData);        \r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"orders | orderDetailId = \"+resp.orders[0].details[0].barcodes[0].orderId+\" | \"+resp.orders[0].details[0].barcodes[0].orderDetailId);\r",
              "        console.log(\"Update barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('original_barcodeId', barcodeId);\r",
              "    }     \r",
              ");"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "f8f4d70d-bd68-4083-b572-73bb1ac143cd",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "name": "Content-Type",
            "type": "text",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"details\": [\n        {\n            \"barcodes\": [\n                { \n                    \"barcodeId\": {{original_barcodeId}},\n                    \"altBarcode1\": \"Replace1\", \n                    \"weight\": {{$randomInt}},\n                    \"weightUnits\": \"LB\",\n                    \"user5\": \"{{$randomColor}} {{$randomProduct}}\" \n                }\n            ]\n        }\n    ]\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-f8f4d70d-bd68-4083-b572-73bb1ac143cd"
    }
  },
  {
    "ID": "49c37a80-064e-4cc4-8ef7-24eb41fcf98d",
    "Name": "multiple wo barcodeId - FAILURE UNDER REVIEW",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 200 / details / details.barcodes",
    "Request": {
      "name": "multiple wo barcodeId - FAILURE UNDER REVIEW",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"OriginaAl\", \r",
              "                            \"altBarcode2\": \"OriginaA2\", \r",
              "                            \"user1\": \"user 1\" \r",
              "                        },\r",
              "                        { \r",
              "                            \"altBarcode1\": \"OriginaBl\", \r",
              "                            \"altBarcode2\": \"OriginaB2\", \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        let barcodeData = lodash.flatten(lodash.map(resp.orders[0].details, 'barcodes'));\r",
              "        console.log('New order result barcodeData', barcodeData);\r",
              "        pm.variables.set('originalBarcodes', barcodeData);\r",
              "\r",
              "        console.log(\"orders | orderDetailId = \"+resp.orders[0].details[0].barcodes[0].orderId+\" | \"+resp.orders[0].details[0].barcodes[0].orderDetailId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"1 barcodeId = \"+barcodeId);\r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        console.log(\"2 barcodeId = \"+barcodeId);\r",
              "    }  \r",
              ");"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "49c37a80-064e-4cc4-8ef7-24eb41fcf98d",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"items\": 2,\r\n            \"barcodes\": [\r\n                {\r\n                    \"altBarcode1\": \"ReplaceA1\",\r\n                    \"user5\": \"{{$randomColor}} {{$randomProduct}}\"\r\n                },\r\n                {\r\n                    \"altBarcode1\": \"ReplaceB1\",\r\n                    \"user4\": \"{{$randomColor}} {{$randomProduct}}\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-49c37a80-064e-4cc4-8ef7-24eb41fcf98d"
    }
  },
  {
    "ID": "53a2ad9a-73f8-4ab2-b45c-4f6c556bb0dc",
    "Name": "single w barcodeId wo items",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 200 / details / details.barcodes",
    "Request": {
      "name": "single w barcodeId wo items",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                         { \r",
              "                            \"altBarcode1\": \"Original\", \r",
              "                            \"altBarcode2\": \"Original2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        let barcodeData = lodash.flatten(lodash.map(resp.orders[0].details, 'barcodes'));\r",
              "        console.log('New order result barcodeData', barcodeData);\r",
              "        pm.variables.set('originalBarcodes', barcodeData);\r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"orders | orderDetailId = \"+resp.orders[0].details[0].barcodes[0].orderId+\" | \"+resp.orders[0].details[0].barcodes[0].orderDetailId);\r",
              "        console.log(\"Update barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('original_barcodeId', barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "53a2ad9a-73f8-4ab2-b45c-4f6c556bb0dc",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"volume\": {{$randomInt}},\r\n            \"volumeUnits\": \"GAL\",\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{original_barcodeId}},\r\n                    \"altBarcode1\": \"Replace1\",\r\n                    \"weight\": {{$randomInt}},\r\n                    \"weightUnits\": \"LB\",\r\n                    \"user5\": \"{{$randomColor}} {{$randomProduct}}\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-53a2ad9a-73f8-4ab2-b45c-4f6c556bb0dc"
    }
  },
  {
    "ID": "9f38eb90-9d24-40f9-afbd-e2ffacb32829",
    "Name": "multiple w barcodeId wo items",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 200 / details / details.barcodes",
    "Request": {
      "name": "multiple w barcodeId wo items",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ // the POST request\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original1.1\", \r",
              "                            \"altBarcode2\": \"Original1.2\",\r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",   \r",
              "                            \"user1\": \"user 1.1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original2.1\", \r",
              "                            \"altBarcode2\": \"Original2.2\", \r",
              "                            \"weight\": 2,\r",
              "                            \"weightUnits\": \"LB\",  \r",
              "                            \"user1\": \"user 2.1\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { // callback\r",
              "        let resp = response.json();\r",
              "        let barcodeData = lodash.flatten(lodash.map(resp.orders[0].details, 'barcodes'));\r",
              "        console.log('New order result barcodeData', barcodeData);\r",
              "        pm.variables.set('originalBarcodes', barcodeData);\r",
              "\r",
              "        console.log(\"orders | orderDetailId = \"+resp.orders[0].details[0].barcodes[0].orderId+\" | \"+resp.orders[0].details[0].barcodes[0].orderDetailId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);\r",
              "\r",
              "        barcodeId =  resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        console.log(\"Update 2 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId2', barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "9f38eb90-9d24-40f9-afbd-e2ffacb32829",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"volume\": {{$randomInt}},\r\n            \"volumeUnits\": \"GAL\",\r\n            \"barcodes\": [\r\n                { \r\n                    \"barcodeId\": {{temp_barcodeId1}}, \r\n                    \"altBarcode1\": \"Replace1.1\", \r\n                    \"weight\": 3,\r\n                    \"weightUnits\": \"LB\",     \r\n                    \"user4\": \"user 4\"\r\n                },\r\n                { \r\n                    \"barcodeId\": {{temp_barcodeId2}},\r\n                    \"altBarcode2\": \"Replace2.2\", \r\n                    \"weight\": 4,\r\n                    \"weightUnits\": \"LB\",  \r\n                    \"user5\": \"user 5\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-9f38eb90-9d24-40f9-afbd-e2ffacb32829"
    }
  },
  {
    "ID": "59494585-5841-42bf-ae57-a854e734943a",
    "Name": "multiple w barcodeId wo items - multiple details",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 200 / details / details.barcodes",
    "Request": {
      "name": "multiple w barcodeId wo items - multiple details",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ // the POST request\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation D1: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [ \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original1.1.1\", \r",
              "                            \"altBarcode2\": \"Original1.1.2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1.1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original1.2.1\", \r",
              "                            \"altBarcode2\": \"Original1.2.2\",\r",
              "                            \"weight\": 2,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1.2\" \r",
              "                        } \r",
              "                    ] \r",
              "                },\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation D2: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [ \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original2.1.1\", \r",
              "                            \"altBarcode2\": \"Original2.1.2\", \r",
              "                            \"weight\": 3,\r",
              "                            \"weightUnits\": \"LB\",                            \r",
              "                            \"user1\": \"user 2.1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original2.2.1\", \r",
              "                            \"altBarcode2\": \"Original2.2.2\", \r",
              "                            \"weight\": 4,\r",
              "                            \"weightUnits\": \"LB\",                            \r",
              "                            \"user1\": \"user 2.2\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { // callback\r",
              "        let resp = response.json();\r",
              "        let barcodeData = lodash.flatten(lodash.map(resp.orders[0].details, 'barcodes'));\r",
              "        console.log('New order result barcodeData', barcodeData);\r",
              "        pm.variables.set('originalBarcodes', barcodeData);\r",
              "\r",
              "        console.log(\"orders | orderDetailId 1.1 = \"+resp.orders[0].details[0].barcodes[0].orderId+\" | \"+resp.orders[0].details[0].barcodes[0].orderDetailId);\r",
              "        console.log(\"orders | orderDetailId 1.2 = \"+resp.orders[0].details[0].barcodes[1].orderId+\" | \"+resp.orders[0].details[0].barcodes[1].orderDetailId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);\r",
              "\r",
              "        barcodeId =  resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        console.log(\"Update 2 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId2', barcodeId);\r",
              "\r",
              "        console.log(\"orders | orderDetailId 2.1 = \"+resp.orders[0].details[1].barcodes[0].orderId+\" | \"+resp.orders[0].details[1].barcodes[0].orderDetailId);\r",
              "        console.log(\"orders | orderDetailId 2.2 = \"+resp.orders[0].details[1].barcodes[1].orderId+\" | \"+resp.orders[0].details[1].barcodes[1].orderDetailId);\r",
              "\r",
              "        barcodeId =  resp.orders[0].details[1].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 3 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId3', barcodeId);\r",
              "\r",
              "        barcodeId =  resp.orders[0].details[1].barcodes[1].barcodeId;\r",
              "        console.log(\"Update 4 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId4', barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "59494585-5841-42bf-ae57-a854e734943a",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"volume\": {{$randomInt}},\r\n            \"volumeUnits\": \"GAL\",\r\n            \"barcodes\": [\r\n                { \r\n                    \"barcodeId\": {{temp_barcodeId1}}, \r\n                    \"altBarcode1\": \"Replace1.1.1\",  \r\n                    \"weight\": 5,\r\n                    \"weightUnits\": \"LB\",  \r\n                    \"user4\": \"user 4\"\r\n                },\r\n                { \r\n                    \"barcodeId\": {{temp_barcodeId2}},\r\n                    \"altBarcode2\": \"Replace1.2.2\", \r\n                    \"weight\": 6,\r\n                    \"weightUnits\": \"LB\",\r\n                    \"user5\": \"user 5\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"cube\": {{$randomInt}},\r\n            \"cubeUnits\": \"FT3\",\r\n            \"barcodes\": [\r\n                { \r\n                    \"barcodeId\": {{temp_barcodeId3}}, \r\n                    \"altBarcode1\": \"Replace2.1.1\", \r\n                    \"weight\": 7,\r\n                    \"weightUnits\": \"LB\",  \r\n                    \"user4\": \"user 4\"\r\n                },\r\n                { \r\n                    \"barcodeId\": {{temp_barcodeId4}},\r\n                    \"altBarcode2\": \"Replace2.2.2\", \r\n                    \"weight\": 8,\r\n                    \"weightUnits\": \"LB\",\r\n                    \"user5\": \"user 5\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-59494585-5841-42bf-ae57-a854e734943a"
    }
  },
  {
    "ID": "bcb758cb-f8a6-4891-8608-8f440f709923",
    "Name": "mixed barcodes wo items - multiple details",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 200 / details / details.barcodes",
    "Request": {
      "name": "mixed barcodes wo items - multiple details",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ // the POST request\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation D1: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [ \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original1.1.1\", \r",
              "                            \"altBarcode2\": \"Original1.1.2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1.1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original1.2.1\", \r",
              "                            \"altBarcode2\": \"Original1.2.2\",\r",
              "                            \"weight\": 2,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1.2\" \r",
              "                        } \r",
              "                    ] \r",
              "                },\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation D2: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [ \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original2.1.1\", \r",
              "                            \"altBarcode2\": \"Original2.1.2\", \r",
              "                            \"weight\": 3,\r",
              "                            \"weightUnits\": \"LB\",                            \r",
              "                            \"user1\": \"user 2.1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original2.2.1\", \r",
              "                            \"altBarcode2\": \"Original2.2.2\", \r",
              "                            \"weight\": 4,\r",
              "                            \"weightUnits\": \"LB\",                            \r",
              "                            \"user1\": \"user 2.2\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { // callback\r",
              "        let resp = response.json();\r",
              "        let barcodeData = lodash.flatten(lodash.map(resp.orders[0].details, 'barcodes'));\r",
              "        console.log('New order result barcodeData', barcodeData);\r",
              "        pm.variables.set('originalBarcodes', barcodeData);\r",
              "\r",
              "        console.log(\"orders | orderDetailId 1.1 = \"+resp.orders[0].details[0].barcodes[0].orderId+\" | \"+resp.orders[0].details[0].barcodes[0].orderDetailId);\r",
              "        console.log(\"orders | orderDetailId 1.2 = \"+resp.orders[0].details[0].barcodes[1].orderId+\" | \"+resp.orders[0].details[0].barcodes[1].orderDetailId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);\r",
              "\r",
              "        barcodeId =  resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        console.log(\"No Update 2 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId2', barcodeId);\r",
              "\r",
              "        console.log(\"orders | orderDetailId 2.1 = \"+resp.orders[0].details[1].barcodes[0].orderId+\" | \"+resp.orders[0].details[1].barcodes[0].orderDetailId);\r",
              "        console.log(\"orders | orderDetailId 2.2 = \"+resp.orders[0].details[1].barcodes[1].orderId+\" | \"+resp.orders[0].details[1].barcodes[1].orderDetailId);\r",
              "\r",
              "        barcodeId =  resp.orders[0].details[1].barcodes[0].barcodeId;\r",
              "        console.log(\"No Update 3 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId3', barcodeId);\r",
              "\r",
              "        barcodeId =  resp.orders[0].details[1].barcodes[1].barcodeId;\r",
              "        console.log(\"Update 4 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId4', barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "bcb758cb-f8a6-4891-8608-8f440f709923",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"volume\": {{$randomInt}},\r\n            \"volumeUnits\": \"GAL\",\r\n            \"barcodes\": [\r\n                { \r\n                    \"barcodeId\": {{temp_barcodeId1}}, \r\n                    \"altBarcode1\": \"Replace1.1.1\",  \r\n                    \"weight\": 5,\r\n                    \"weightUnits\": \"LB\",  \r\n                    \"user4\": \"user 4\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"cube\": {{$randomInt}},\r\n            \"cubeUnits\": \"FT3\",\r\n            \"barcodes\": [\r\n                { \r\n                    \"altBarcode1\": \"New_2.3.1\", \r\n                    \"weight\": 7,\r\n                    \"weightUnits\": \"LB\",  \r\n                    \"user4\": \"user 4\"\r\n                },\r\n                { \r\n                    \"barcodeId\": {{temp_barcodeId4}},\r\n                    \"altBarcode2\": \"Replace2.2.2\", \r\n                    \"weight\": 8,\r\n                    \"weightUnits\": \"LB\",\r\n                    \"user5\": \"user 5\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-bcb758cb-f8a6-4891-8608-8f440f709923"
    }
  },
  {
    "ID": "8f85de84-3b14-4a38-853d-18bc90760cfd",
    "Name": "update the 1st barcode / do not modify the 2nd / add a new 3rd wo items",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 200 / details / details.barcodes",
    "Request": {
      "name": "update the 1st barcode / do not modify the 2nd / add a new 3rd wo items",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [ \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original1.1\", \r",
              "                            \"altBarcode2\": \"Original1.2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original2.1\", \r",
              "                            \"altBarcode2\": \"Original2.2\", \r",
              "                            \"weight\": 2,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        let barcodeData = lodash.flatten(lodash.map(resp.orders[0].details, 'barcodes'));\r",
              "        console.log('New order result barcodeData', barcodeData);\r",
              "        pm.variables.set('originalBarcodes', barcodeData);\r",
              "\r",
              "        console.log(\"orders | orderDetailId = \"+resp.orders[0].details[0].barcodes[0].orderId+\" | \"+resp.orders[0].details[0].barcodes[0].orderDetailId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);    \r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        console.log(\"No Update 2 barcodeId = \"+barcodeId);  \r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "8f85de84-3b14-4a38-853d-18bc90760cfd",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"volume\": {{$randomInt}},\r\n            \"volumeUnits\": \"GAL\",\r\n            \"barcodes\": [ \r\n                {\r\n                    \"barcodeId\": {{temp_barcodeId1}},\r\n                    \"altBarcode1\": \"Replace1.1\",\r\n                    \"weight\": 3,\r\n                    \"weightUnits\": \"LB\",\r\n                    \"user4\": \"U4.1 {{$randomColor}} {{$randomProduct}}\"\r\n                },\r\n                {\r\n                    \"altBarcode1\": \"New_3\",\r\n                    \"weight\": 4,\r\n                    \"weightUnits\": \"LB\",\r\n                    \"user3\": \"U3.2 {{$randomColor}} {{$randomProduct}}\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-8f85de84-3b14-4a38-853d-18bc90760cfd"
    }
  },
  {
    "ID": "2207458d-9bf3-4b1b-b4dd-fa6d0f3be06b",
    "Name": "update the 1st barcode / do not modify the 2nd / add a new 3rd,4th wo items TM-185682",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId1}}",
    "Folder": "orders / orderId / PUT / 200 / details / details.barcodes",
    "Request": {
      "name": "update the 1st barcode / do not modify the 2nd / add a new 3rd,4th wo items TM-185682",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [ \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original1.1\", \r",
              "                            \"altBarcode2\": \"Original1.2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original2.1\", \r",
              "                            \"altBarcode2\": \"Original2.2\", \r",
              "                            \"weight\": 2,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        let barcodeData = lodash.flatten(lodash.map(resp.orders[0].details, 'barcodes'));\r",
              "        console.log('New order result barcodeData', barcodeData);\r",
              "        pm.variables.set('originalBarcodes', barcodeData);\r",
              "        let orderDetailId = resp.orders[0].details[0].orderDetailId;\r",
              "        pm.variables.set('temp_orderDetailId1', orderDetailId);   \r",
              "        console.log(\"orders | orderDetailId = \"+resp.orders[0].details[0].barcodes[0].orderId+\" | \"+resp.orders[0].details[0].barcodes[0].orderDetailId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);    \r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        console.log(\"No Update 2 barcodeId = \"+barcodeId);  \r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "2207458d-9bf3-4b1b-b4dd-fa6d0f3be06b",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"volume\": {{$randomInt}},\r\n    \"volumeUnits\": \"GAL\",\r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId1}},\r\n            \"altBarcode1\": \"Replace1.1\",\r\n            \"weight\": 3,\r\n            \"weightUnits\": \"LB\",\r\n            \"user4\": \"U4.1 {{$randomColor}} {{$randomProduct}}\"\r\n        },\r\n        {\r\n            \"altBarcode1\": \"New_3\",\r\n            \"weight\": 4,\r\n            \"weightUnits\": \"LB\",\r\n            \"user3\": \"U3.3 {{$randomColor}} {{$randomProduct}}\"\r\n        },\r\n        {\r\n            \"altBarcode1\": \"New_4\",\r\n            \"weight\": 5,\r\n            \"weightUnits\": \"LB\",\r\n            \"user3\": \"U3.4 {{$randomColor}} {{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId1}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId1}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-2207458d-9bf3-4b1b-b4dd-fa6d0f3be06b"
    }
  },
  {
    "ID": "ce67c5af-42ef-4436-8ac6-c9a4e9007b8a",
    "Name": "no barcodes in PUT request",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 200 / details / details.barcodes",
    "Request": {
      "name": "no barcodes in PUT request",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "40604694-cda5-43c8-9217-6c4c886194df",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "668c546d-5acc-41a6-82cd-f9d49615fd24",
            "exec": [
              "// Important Note: The phrase 'Update barcode' must be kept for the test case name\r",
              "// Prepare and save the barcodes values\r",
              "let originalValues = { \"altBarcode1\": \"OriginaAl\",\"altBarcode2\": \"OriginaA2\", \"user1\": \"user 1\" }; // Used in the POST orders\r",
              "pm.variables.set('originalValues', JSON.stringify(originalValues));\r",
              "\r",
              "// Create a new order with 1 barcode (not picked up)\r",
              "utils.createPostedOrders(pm,\r",
              "    [ // POST request\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": \"OriginaAl\",\r",
              "                            \"altBarcode2\": \"OriginaA2\", \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        let barcodeData = lodash.flatten(lodash.map(resp.orders[0].details, 'barcodes'));\r",
              "        console.log('New order result barcodeData', barcodeData);\r",
              "        pm.variables.set('originalBarcodes', barcodeData);\r",
              "    }     \r",
              ");"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "ce67c5af-42ef-4436-8ac6-c9a4e9007b8a",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "name": "Content-Type",
            "type": "text",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"details\": [\n        {\n            \"weight\": {{$randomInt}},\n            \"weightUnits\": \"LB\",\n            \"pieces\": {{$randomInt}},\n            \"piecesUnits\": \"LD\",\n            \"manuallyRated\": \"True\",\n            \"rate\": 1.22,\n            \"ratePer\": 2.33,\n            \"rateUnits\": \"LB\",\n            \"asRate\": 3.44,\n            \"asBreak\": 4.55\n        }\n    ]\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-ce67c5af-42ef-4436-8ac6-c9a4e9007b8a"
    }
  },
  {
    "ID": "c2e09eba-f31f-4082-90b2-31dcabaf4245",
    "Name": "barcode user fields",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderIdA}}",
    "Folder": "orders / orderId / PUT / 200",
    "Request": {
      "name": "barcode user fields",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0b95000e-0dae-44c3-bf47-6b0716be8f5f",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "3bd03cf5-cd3a-4d6c-9f20-8579cec40d4c",
            "exec": [
              "let orders = [{\r",
              "    \"pickUpBy\": pm.globals.get('CurrentDatetime'),\r",
              "    \"pickUpByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "    \"deliverBy\": pm.globals.get('CurrentDatetime'),\r",
              "    \"deliverByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "    \"serviceLevel\": \"REGULAR\",\r",
              "    \"caller\": {\r",
              "        \"clientId\": \"TM\",\r",
              "        \"name\": pm.variables.replaceIn('{{$randomFullName}}')\r",
              "    },\r",
              "    \"shipper\": {\r",
              "        \"clientId\": \"TM\",\r",
              "        \"name\": pm.variables.replaceIn('{{$randomFullName}}')\r",
              "    },\r",
              "    \"consignee\": {\r",
              "        \"clientId\": \"TM\",\r",
              "        \"name\": pm.variables.replaceIn('{{$randomFullName}}')\r",
              "    },\r",
              "    \"pickupAt\": {\r",
              "        \"clientId\": \"TM\",\r",
              "        \"name\": pm.variables.replaceIn('{{$randomFullName}}'),\r",
              "        \"zone\": \"BCLAN\",\r",
              "        \"country\": \"CA\"\r",
              "    },\r",
              "    \"careOf\": {\r",
              "        \"clientId\": \"TM\",\r",
              "        \"name\": pm.variables.replaceIn('{{$randomFullName}}'),\r",
              "        \"zone\": \"ABCAL\",\r",
              "        \"country\": \"US\"\r",
              "    }\r",
              "}];\r",
              "pm.sendRequest({\r",
              "    url: pm.environment.get(\"DOMAIN\") + \"/orders?type=T&saveAsDraft=True\",\r",
              "    method: 'POST',\r",
              "    header: {\r",
              "        'Accept': 'application/json',\r",
              "        'Content-Type': 'application/json',\r",
              "        'Authorization': 'Bearer ' + pm.variables.replaceIn('{{BEARER_TOKEN}}')\r",
              "    },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({ orders: orders })\r",
              "    }\r",
              "}, function (err, response) {\r",
              "    if (err) {\r",
              "        console.error('tm_utils error:\\n', err, 'Response: \\n', response.text());\r",
              "        throw new Error(\"An error has occurred. Check logs.\");\r",
              "    }\r",
              "    if (response.code !== 201) {\r",
              "        throw new Error(response.code + \" \" + response.status + \" - check the logs for further details.\");\r",
              "    }\r",
              "    let jsonData = response.json();\r",
              "    pm.variables.set('temp_orderIdA', jsonData.orders[0].orderId);\r",
              "});\r",
              "\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "c2e09eba-f31f-4082-90b2-31dcabaf4245",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"deliverByEnd\": \"{{timestampUtcIso8601}}\",\n    \"details\": [\n        {\n            \"items\": 1,\n            \"barcodes\": [\n                {\n                    \"altBarcode1\": \"Replace1\",\n                    \"weight\": {{$randomInt}},\n                    \"weightUnits\": \"LB\",\n                    \"user1\": \"{{$randomProduct}}\",\n                    \"user2\": \"{{$randomProduct}}\",\n                    \"user3\": \"{{$randomProduct}}\",\n                    \"user4\": \"{{$randomProduct}}\",\n                    \"user5\": \"{{$randomProduct}}\"\n                }\n            ]\n        }\n    ]\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderIdA}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderIdA}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-c2e09eba-f31f-4082-90b2-31dcabaf4245"
    }
  },
  {
    "ID": "65fe60f4-295c-47e6-9bf7-1f250d47931d",
    "Name": "Update Barcode's altBarcode1",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 200",
    "Request": {
      "name": "Update Barcode's altBarcode1",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "cd7ec9a4-f73e-4220-af3e-92f00812d523",
            "exec": [
              "utils.createPostedOrders(pm, [], (response) => {let jsonData = response.json(); pm.variables.set('temp_orderId', jsonData.orders[0].orderId);});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "87c0367a-677a-4fed-9a54-50ee122291f5",
            "exec": [
              "//Initial tests in the parent 200 folder Tests tab\r",
              "if (pm.response.code == 200) { \r",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "65fe60f4-295c-47e6-9bf7-1f250d47931d",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"items\": 1,\r\n            \"barcodes\": [\r\n                {\r\n                    \"altBarcode1\": \"{{$randomWord}}\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-65fe60f4-295c-47e6-9bf7-1f250d47931d"
    }
  },
  {
    "ID": "d08d8054-7b86-4999-b874-0b6f80b1b498",
    "Name": "multiple wo barcodeId wo items",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "multiple wo barcodeId wo items",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse('The number of item level tracking (items) must be provided when creating barcodes');\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId'));"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"OriginaAl\", \r",
              "                            \"altBarcode2\": \"OriginaA2\", \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        let barcodeData = lodash.flatten(lodash.map(resp.orders[0].details, 'barcodes'));\r",
              "        console.log('New order result barcodeData', barcodeData);\r",
              "        pm.variables.set('originalBarcodes', barcodeData);\r",
              "\r",
              "        console.log(\"orders | orderDetailId = \"+resp.orders[0].details[0].barcodes[0].orderId+\" | \"+resp.orders[0].details[0].barcodes[0].orderDetailId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"No Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);   \r",
              "    }  \r",
              ");"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "d08d8054-7b86-4999-b874-0b6f80b1b498",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"barcodes\": [\r\n                {\r\n                    \"altBarcode1\": \"Replace1\",\r\n                    \"user5\": \"{{$randomColor}} {{$randomProduct}}\"\r\n                },\r\n                {\r\n                    \"altBarcode1\": \"Replace2\",\r\n                    \"weight\": 4,\r\n                    \"weightUnits\": \"LB\",                    \r\n                    \"user4\": \"{{$randomColor}} {{$randomProduct}}\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-d08d8054-7b86-4999-b874-0b6f80b1b498"
    }
  },
  {
    "ID": "6c574373-5bbd-4ff7-aff8-af2394f10594",
    "Name": "barcode Ids in the request are duplicated",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId16}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "barcode Ids in the request are duplicated",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse('The barcode ids in the request are duplicated.');\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId16'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "// Create a new order with 1 barcode (not picked up)\r",
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1\"\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], // the POST request\r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('temp_orderId_barcodeId16', resp.orders[0].orderId);\r",
              "        // console.log('barcodeId', resp.orders[0].details[0].barcodes[0].barcodeId);\r",
              "\r",
              "        // save this id and use it in the PUT request\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        pm.variables.set('barcodeId16', barcodeId); \r",
              "\r",
              "    } // callback\r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "6c574373-5bbd-4ff7-aff8-af2394f10594",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"items\": 2,\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{barcodeId16}},\r\n                    \"altBarcode1\": \"Replace1.1\"\r\n                },\r\n                {\r\n                    \"barcodeId\": {{barcodeId16}},\r\n                    \"altBarcode1\": \"Replace1.2\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId16}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId16}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-6c574373-5bbd-4ff7-aff8-af2394f10594"
    }
  },
  {
    "ID": "a50a7545-d119-4722-8191-29763e8a6ab7",
    "Name": "Barcode ids in the request assigned to different details belong to the same detail",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId11}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "Barcode ids in the request assigned to different details belong to the same detail",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(pm.variables.replaceIn('Barcode ids in the request assigned to different details belong to the same detail.'));\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId11'));\r",
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "// Create a new order with 1 barcode (not picked up)\r",
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1.1\"\r",
              "                        },\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1.2\"\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], // the POST request\r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('temp_orderId_barcodeId11', resp.orders[0].orderId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId; \r",
              "        pm.variables.set('barcodeId1-1', barcodeId); \r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        pm.variables.set('barcodeId1-2', barcodeId); \r",
              "\r",
              "    } // callback\r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "a50a7545-d119-4722-8191-29763e8a6ab7",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{barcodeId1-1}},\r\n                    \"altBarcode1\": \"Replace1.1\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{barcodeId1-2}},\r\n                    \"altBarcode1\": \"Replace1.2\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId11}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId11}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-a50a7545-d119-4722-8191-29763e8a6ab7"
    }
  },
  {
    "ID": "0692b8a0-44af-423b-baf0-581bb9db0927",
    "Name": "barcodeId not found for this order",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId10}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "barcodeId not found for this order",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(pm.variables.replaceIn('barcodeId [{{invalidBarcodeId10}}] not found for this order.'));\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId10'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "// Create a new order with 1 barcode (not picked up)\r",
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1\"\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], // the POST request\r",
              "    (response) => { // callback\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('temp_orderId_barcodeId10', resp.orders[0].orderId);\r",
              "\r",
              "        // save this id and use it in the PUT request\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        pm.variables.set('invalidBarcodeId10', barcodeId+100); // save the incorrect barcodeId purposely \r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "0692b8a0-44af-423b-baf0-581bb9db0927",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"items\": 1,\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{invalidBarcodeId10}},\r\n                    \"altBarcode1\": \"Replace1\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId10}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId10}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-0692b8a0-44af-423b-baf0-581bb9db0927"
    }
  },
  {
    "ID": "c96a2b89-e0b5-4dc9-804d-053f6f41407d",
    "Name": "barcodeId not found for this order - 1st barcodeId incorrect",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId12}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "barcodeId not found for this order - 1st barcodeId incorrect",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(\r",
              "    pm.variables.replaceIn('barcodeId [{{barcodeId22_incorrect}}] not found for this order.')\r",
              ");\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId12'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "// Create a new order with 1 barcode (not picked up)\r",
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1\"\r",
              "                        },\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original2\"\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], // the POST request\r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('temp_orderId_barcodeId12', resp.orders[0].orderId);\r",
              "\r",
              "        // save these ids and use it in the PUT request\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId; \r",
              "        pm.variables.set('barcodeId11', barcodeId); // correct id\r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        pm.variables.set('barcodeId22_incorrect', barcodeId+100); // incorrect id\r",
              "\r",
              "    } // callback\r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "c96a2b89-e0b5-4dc9-804d-053f6f41407d",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{barcodeId22_incorrect}},\r\n                    \"altBarcode1\": \"Replace2\"\r\n                },\r\n                {\r\n                    \"barcodeId\": {{barcodeId11}},\r\n                    \"altBarcode1\": \"Replace1\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId12}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId12}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-c96a2b89-e0b5-4dc9-804d-053f6f41407d"
    }
  },
  {
    "ID": "ee1cd0ca-d4c0-4c2c-900f-9a9c89ea1c23",
    "Name": "barcodeId not found for this order - 2nd barcodeId incorrect",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId13}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "barcodeId not found for this order - 2nd barcodeId incorrect",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(\r",
              "    pm.variables.replaceIn('barcodeId [{{barcodeId222_incorrect}}] not found for order [{{temp_orderId_barcodeId13}}], with orderDetailId [{{temp_orderDetailId_barcodeId13}}].')\r",
              ");\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId13'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "// Create a new order with 1 barcode (not picked up)\r",
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1\"\r",
              "                        },\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original2\"\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], // the POST request\r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('temp_orderId_barcodeId13', resp.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId_barcodeId13', resp.orders[0].details[0].orderDetailId);\r",
              "\r",
              "        // save these ids and use it in the PUT request\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId; \r",
              "        pm.variables.set('barcodeId111', barcodeId); // correct id     \r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        pm.variables.set('barcodeId222_incorrect', barcodeId+100); // incorrect id\r",
              "    } // callback\r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "ee1cd0ca-d4c0-4c2c-900f-9a9c89ea1c23",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{barcodeId111}},\r\n                    \"altBarcode1\": \"Replace1\"\r\n                },\r\n                {\r\n                    \"barcodeId\": {{barcodeId222_incorrect}},\r\n                    \"altBarcode1\": \"Replace2\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId13}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId13}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-ee1cd0ca-d4c0-4c2c-900f-9a9c89ea1c23"
    }
  },
  {
    "ID": "7e89d0ae-7563-4d20-b8fa-b35af42634bf",
    "Name": "barcodeId not found for this order - Incorrect 1st barcodeId in 1st details (2 details)",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId14}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "barcodeId not found for this order - Incorrect 1st barcodeId in 1st details (2 details)",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(pm.variables.replaceIn('barcodeId [{{barcodeId1-1111_incorrect}}] not found for this order.'));\r",
              "// As the 1st barcode in the 1st details is incorrect, the orderDetailId cannot be determinded. The error description will only include the incorrect barcode.\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId14'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "// Create a new order with 1 barcode (not picked up)\r",
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1.1\"\r",
              "                        },\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1.2\"\r",
              "                        }\r",
              "                    ]\r",
              "                },\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original2.1\"\r",
              "                        },\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original2.2\"\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], // the POST request\r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('temp_orderId_barcodeId14', resp.orders[0].orderId);\r",
              "\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId; \r",
              "        pm.variables.set('barcodeId1-1111_incorrect', barcodeId+100); \r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        pm.variables.set('barcodeId1-2222', barcodeId); \r",
              "\r",
              "        // details 2\r",
              "        orderDetailId = resp.orders[0].details[1].orderDetailId;\r",
              "        pm.variables.set('orderDetailId2222', orderDetailId);\r",
              "\r",
              "        barcodeId = resp.orders[0].details[1].barcodes[0].barcodeId;\r",
              "        pm.variables.set('barcodeId2-1111', barcodeId); \r",
              "\r",
              "        barcodeId = resp.orders[0].details[1].barcodes[1].barcodeId;\r",
              "        pm.variables.set('barcodeId2-2222_incorrect', barcodeId+100); \r",
              "\r",
              "    } // callback\r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "7e89d0ae-7563-4d20-b8fa-b35af42634bf",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{barcodeId1-1111_incorrect}},\r\n                    \"altBarcode1\": \"Replace1.1\"\r\n                },\r\n                {\r\n                    \"barcodeId\": {{barcodeId1-2222}},\r\n                    \"altBarcode1\": \"Replace1.2\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{barcodeId2-1111}},\r\n                    \"altBarcode1\": \"Replace2.1\"\r\n                },\r\n                {\r\n                    \"barcodeId\": {{barcodeId2-2222_incorrect}},\r\n                    \"altBarcode1\": \"Replace2.2\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId14}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId14}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-7e89d0ae-7563-4d20-b8fa-b35af42634bf"
    }
  },
  {
    "ID": "b02449be-11b2-4a8a-8e41-4a1aa3416113",
    "Name": "barcodeId not found for this order - Incorrect 2nd barcode in 1st details (2 details)",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId15}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "barcodeId not found for this order - Incorrect 2nd barcode in 1st details (2 details)",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(\r",
              "    pm.variables.replaceIn('barcodeId [{{barcodeId1-11111_incorrect}}] not found for order [{{temp_orderId_barcodeId15}}], with orderDetailId [{{temp_orderDetailId_barcodeId15}}].')\r",
              ");\r",
              "\r",
              "// As barcodeId1-1_incorrect is the 2nd bacrode in the 1st details, the orderDetailId is identified by the 1st barcode. \r",
              "// That's why orderId and orderDetailId1 are avaiable for error description.\r",
              "\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId15'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "// Create a new order with 1 barcode (not picked up)\r",
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1.1\"\r",
              "                        },\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1.2\"\r",
              "                        }\r",
              "                    ]\r",
              "                },\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original2.1\"\r",
              "                        },\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original2.2\"\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], // the POST request\r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "\r",
              "        // save the following ids for error checking\r",
              "        let orderId = resp.orders[0].details[0].orderId;\r",
              "        pm.variables.set('temp_orderId_barcodeId15', orderId);\r",
              "\r",
              "        // details 1\r",
              "        let orderDetailId = resp.orders[0].details[0].orderDetailId;\r",
              "        pm.variables.set('temp_orderDetailId_barcodeId15', orderDetailId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId; \r",
              "        pm.variables.set('barcodeId1-11111_incorrect', barcodeId+100); \r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        pm.variables.set('barcodeId1-22222', barcodeId); \r",
              "\r",
              "\r",
              "        // details 2\r",
              "        orderDetailId = resp.orders[0].details[1].orderDetailId;\r",
              "        pm.variables.set('orderDetailId22222', orderDetailId);\r",
              "\r",
              "        barcodeId = resp.orders[0].details[1].barcodes[0].barcodeId;\r",
              "        pm.variables.set('barcodeId2-11111', barcodeId); \r",
              "\r",
              "        barcodeId = resp.orders[0].details[1].barcodes[1].barcodeId;\r",
              "        pm.variables.set('barcodeId2-22222_incorrect', barcodeId+100); \r",
              "\r",
              "    } // callback\r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "b02449be-11b2-4a8a-8e41-4a1aa3416113",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{barcodeId1-22222}},\r\n                    \"altBarcode1\": \"Replace1.2\"\r\n                },\r\n                {\r\n                    \"barcodeId\": {{barcodeId1-11111_incorrect}},\r\n                    \"altBarcode1\": \"Replace1.1\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{barcodeId2-11111}},\r\n                    \"altBarcode1\": \"Replace2.1\"\r\n                },\r\n                {\r\n                    \"barcodeId\": {{barcodeId2-22222_incorrect}},\r\n                    \"altBarcode1\": \"Replace2.2\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId15}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId15}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-b02449be-11b2-4a8a-8e41-4a1aa3416113"
    }
  },
  {
    "ID": "d88efe77-ce59-455b-ae08-cd4aa7c044bb",
    "Name": "Item level tracking value cannot be changed when specific barcodes being updated",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId19}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "Item level tracking value cannot be changed when specific barcodes being updated",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(pm.variables.replaceIn('The item level tracking value (items) cannot be changed when specific existing barcodes are being updated.'));\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId19'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                         { \r",
              "                            \"altBarcode1\": \"Original\", \r",
              "                            \"altBarcode2\": \"Original2\", \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('temp_orderId_barcodeId19', resp.orders[0].orderId);\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        pm.variables.set('original_barcodeId19', barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "d88efe77-ce59-455b-ae08-cd4aa7c044bb",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"items\": 1,\r\n            \"barcodes\": [\r\n                {\r\n                    \"barcodeId\": {{original_barcodeId19}},\r\n                    \"altBarcode1\": \"Replace1\",\r\n                    \"user5\": \"{{$randomColor}} {{$randomProduct}}\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId19}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId19}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-d88efe77-ce59-455b-ae08-cd4aa7c044bb"
    }
  },
  {
    "ID": "908277de-418e-42f3-8ffb-741c37cd29a3",
    "Name": "Item level tracking value cannot be changed when specific barcodes updated (Multiple records)",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId20}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "Item level tracking value cannot be changed when specific barcodes updated (Multiple records)",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(pm.variables.replaceIn('The item level tracking value (items) cannot be changed when specific existing barcodes are being updated.'));\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId20'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ // the POST request\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original1.1\", \r",
              "                            \"altBarcode2\": \"Original1.2\", \r",
              "                            \"user1\": \"user 1.1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"Original2.1\", \r",
              "                            \"altBarcode2\": \"Original2.2\", \r",
              "                            \"user1\": \"user 2.1\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { // callback\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes20', resp.orders[0].details[0].barcodes);\r",
              "        pm.variables.set('temp_orderId_barcodeId20', resp.orders[0].orderId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId120', barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "908277de-418e-42f3-8ffb-741c37cd29a3",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"items\": 2,\r\n            \"barcodes\": [\r\n                { \r\n                    \"barcodeId\": {{temp_barcodeId120}}, \r\n                    \"altBarcode1\": \"Replace1.1\",    \r\n                    \"user 4\": \"user 4\"\r\n                },\r\n                { \r\n                    \"altBarcode2\": \"Replace2.2\", \r\n                    \"user 5\": \"user 5\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId20}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId20}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-908277de-418e-42f3-8ffb-741c37cd29a3"
    }
  },
  {
    "ID": "8b39aeb3-a711-4de7-8577-3bb6223e1114",
    "Name": "Updated barcodes not allowed for picked orders",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId17}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "Updated barcodes not allowed for picked orders",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "85620083-3da3-401e-8e2d-cef2b2cf379a",
            "exec": [
              " \r",
              "\r",
              "//define orders body to be used when creating order to be assigned to the trip:\r",
              "let orders = [{\r",
              "        \"pickUpBy\": pm.globals.get('CurrentDatetime'),\r",
              "        \"pickUpByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "        \"deliverBy\": pm.globals.get('CurrentDatetime'),\r",
              "        \"deliverByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "        \"startZone\": \"BCLAN\",\r",
              "        \"endZone\": \"ABCAL\",\r",
              "        \"caller\": { \"clientId\": \"TM\", \"name\": pm.variables.replaceIn('{{$randomFullName}}') },\r",
              "        \"details\": [\r",
              "          {\r",
              "            \"commodity\": \"FAK\",\r",
              "            \"description\": \"detail desc \",\r",
              "            \"weight\": 123,\r",
              "            \"weightUnits\": \"LB\",\r",
              "            \"pieces\": 10,\r",
              "            \"piecesUnits\": \"LD\",\r",
              "            \"items\": 1,\r",
              "            \"barcodes\": [{\r",
              "                \"altBarcode1\": \"TEST\"\r",
              "            }]\r",
              "          }\r",
              "        ],\r",
              "        \"aCharges\": [\r",
              "          {\r",
              "            \"aChargeCode\": pm.variables.get('ACHARGE_CODE'),\r",
              "            \"quantity\": 50,\r",
              "            \"rate\": 0.5,\r",
              "            \"user1\": pm.variables.replaceIn('{{$randomProduct}}'),\r",
              "            \"threshold\": 5,\r",
              "            \"increment\": 3\r",
              "          }\r",
              "        ]\r",
              "      }]\r",
              "\r",
              "utils.createPostedOrders(pm,orders, \r",
              "(response) => {\r",
              "    let resp = response.json();\r",
              "    pm.variables.set('temp_orderId_barcodeId17', resp.orders[0].orderId);\r",
              "    pm.variables.set('temp_orderDetailId_barcodeId17', resp.orders[0].details[0].orderDetailId);\r",
              "    pm.variables.set('temp_barcode_barcodeId17', resp.orders[0].details[0].barcodes[0].barcodeId);\r",
              "    utils.createTrip(pm,\r",
              "        {\r",
              "            \"fromZone\": \"BCVAN\",\r",
              "            \"toZone\": \"BCVAN\",\r",
              "            \"pickupDeliveryTrip\": \"True\",\r",
              "            \"stops\": [\r",
              "                {\r",
              "                    \"zone\": \"BCLAN\",\r",
              "                    \"resources\": [\r",
              "                        {\r",
              "                            \"type\": \"freight\",\r",
              "                            \"action\": \"pick\",\r",
              "                            \"resourceId\": pm.variables.get('temp_orderId_barcodeId17')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]            \r",
              "        }, (tripResponse) => {\r",
              "        \r",
              "        let tripResp = tripResponse.json();\r",
              "        pm.variables.set('temp_tripNumber_barcode17', tripResp.tripNumber);\r",
              "        pm.sendRequest({\r",
              "            url: pm.environment.get(\"DOMAIN\") + \"/trips/\" + pm.variables.get('temp_tripNumber_barcode17') + \"/orders/\" + pm.variables.get('temp_orderId_barcodeId17')+ \"/status\",\r",
              "            method: 'PUT',\r",
              "            header: {\r",
              "                'Accept': 'application/json',\r",
              "                'Content-Type': 'application/Json',\r",
              "                'Authorization': 'Bearer ' + pm.variables.replaceIn('{{TRUCKMATE_API_KEY}}')\r",
              "            },\r",
              "            body: {\r",
              "                mode: 'application/json',\r",
              "                raw: JSON.stringify({\r",
              "                    \"statusCode\": \"PICKD\",\r",
              "                    \"reason\": pm.variables.get('REASON_CODE'),\r",
              "                    \"zone\": \"BCLAN\"\r",
              "                })\r",
              "            }\r",
              "        })\r",
              "    });\r",
              "}\r",
              ");\r",
              "\r",
              "\r",
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "cc4ce039-4281-40dd-9cc6-b6b996bb302b",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(pm.variables.replaceIn('Updating the entire barcodes resource at this level is not allowed for orders which have already been picked up. Please use the PUT /orders/:orderId/details/:orderDetailId/barcodes/:barcodeId endpoint to update individual barcode records for orders which have already been picked up.'));\r",
              "\r",
              "\r",
              " \r",
              "const options = {\r",
              "    'urlParam' : 'expand=details/barcodes'\r",
              "}\r",
              "utils.getOrderById(pm,pm.variables.get('temp_orderId_barcodeId17'), options, verifyOriginalBarcodeExists);\r",
              "\r",
              "//verify original barcode still exists\r",
              "function verifyOriginalBarcodeExists(resp)\r",
              "{\r",
              "    if ((resp.details[0].barcodes).length > 0) {\r",
              "        pm.test(pm.collectionVariables.replaceIn(\"BarcodeId {{temp_barcode_barcodeId17}} has not been replaced or deleted\"), function () {\r",
              "            pm.expect(resp.details[0].barcodes[0].barcodeId).to.equal(pm.variables.get('temp_barcode_barcodeId17'));\r",
              "        });\r",
              "    }\r",
              "    else {\r",
              "        pm.test(pm.collectionVariables.replaceIn(\"BarcodeId {{temp_barcode_barcodeId17}} has not been deleted or replaced\"), function () {\r",
              "            pm.expect(false).to.equal(true);\r",
              "        });\r",
              "    }\r",
              "}\r",
              "\r",
              "utils.applyStatusUpdateToTrip(pm,'COMPLETE', pm.variables.get('temp_tripNumber_barcode17'));"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "8b39aeb3-a711-4de7-8577-3bb6223e1114",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"items\": 1,\r\n            \"barcodes\": [\r\n                {\r\n                    \"altBarcode1\": \"Replace1\", \r\n                    \"user5\": \"user 5\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId17}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId17}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-8b39aeb3-a711-4de7-8577-3bb6223e1114"
    }
  },
  {
    "ID": "75f8d13c-a9ac-4710-adf8-f89978283017",
    "Name": "Updated barcodes not allowed for picked orders (Multiple barcode records)",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId18}}",
    "Folder": "orders / orderId / PUT / 4xx / InvalidBusinessLogic / barcodes",
    "Request": {
      "name": "Updated barcodes not allowed for picked orders (Multiple barcode records)",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "85620083-3da3-401e-8e2d-cef2b2cf379a",
            "exec": [
              " \r",
              "\r",
              "//define orders body to be used when creating order to be assigned to the trip:\r",
              "let orders = [{\r",
              "        \"pickUpBy\": pm.globals.get('CurrentDatetime'),\r",
              "        \"pickUpByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "        \"deliverBy\": pm.globals.get('CurrentDatetime'),\r",
              "        \"deliverByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "        \"startZone\": \"BCLAN\",\r",
              "        \"endZone\": \"ABCAL\",\r",
              "        \"caller\": { \"clientId\": \"TM\", \"name\": pm.variables.replaceIn('{{$randomFullName}}') },\r",
              "        \"details\": [\r",
              "          {\r",
              "            \"commodity\": \"FAK\",\r",
              "            \"description\": \"detail desc \",\r",
              "            \"weight\": 123,\r",
              "            \"weightUnits\": \"LB\",\r",
              "            \"pieces\": 10,\r",
              "            \"piecesUnits\": \"LD\",\r",
              "            \"items\": 1,\r",
              "            \"barcodes\": [{\r",
              "                \"altBarcode1\": \"TEST\"\r",
              "            }]\r",
              "          }\r",
              "        ],\r",
              "        \"aCharges\": [\r",
              "          {\r",
              "            \"aChargeCode\": pm.variables.get('ACHARGE_CODE'),\r",
              "            \"quantity\": 50,\r",
              "            \"rate\": 0.5,\r",
              "            \"user1\": pm.variables.replaceIn('{{$randomProduct}}'),\r",
              "            \"threshold\": 5,\r",
              "            \"increment\": 3\r",
              "          }\r",
              "        ]\r",
              "      }]\r",
              "\r",
              "utils.createPostedOrders(pm,orders, \r",
              "(response) => {\r",
              "    let resp = response.json();\r",
              "    pm.variables.set('temp_orderId_barcodeId18', resp.orders[0].orderId);\r",
              "    pm.variables.set('temp_orderDetailId_barcodeId18', resp.orders[0].details[0].orderDetailId);\r",
              "    pm.variables.set('temp_barcode_barcodeId18', resp.orders[0].details[0].barcodes[0].barcodeId);\r",
              "    utils.createTrip(pm,\r",
              "        {\r",
              "            \"fromZone\": \"BCVAN\",\r",
              "            \"toZone\": \"BCVAN\",\r",
              "            \"pickupDeliveryTrip\": \"True\",\r",
              "            \"stops\": [\r",
              "                {\r",
              "                    \"zone\": \"BCLAN\",\r",
              "                    \"resources\": [\r",
              "                        {\r",
              "                            \"type\": \"freight\",\r",
              "                            \"action\": \"pick\",\r",
              "                            \"resourceId\": pm.variables.get('temp_orderId_barcodeId18')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]            \r",
              "        }, (tripResponse) => {\r",
              "        \r",
              "        let tripResp = tripResponse.json();\r",
              "        pm.variables.set('temp_tripNumber_barcode18', tripResp.tripNumber);\r",
              "        pm.sendRequest({\r",
              "            url: pm.environment.get(\"DOMAIN\") + \"/trips/\" + pm.variables.get('temp_tripNumber_barcode18') + \"/orders/\" + pm.variables.get('temp_orderId_barcodeId18')+ \"/status\",\r",
              "            method: 'PUT',\r",
              "            header: {\r",
              "                'Accept': 'application/json',\r",
              "                'Content-Type': 'application/Json',\r",
              "                'Authorization': 'Bearer ' + pm.variables.replaceIn('{{TRUCKMATE_API_KEY}}')\r",
              "            },\r",
              "            body: {\r",
              "                mode: 'application/json',\r",
              "                raw: JSON.stringify({\r",
              "                    \"statusCode\": \"PICKD\",\r",
              "                    \"reason\": pm.variables.get('REASON_CODE'),\r",
              "                    \"zone\": \"BCLAN\"\r",
              "                })\r",
              "            }\r",
              "        })\r",
              "    });\r",
              "}\r",
              ");\r",
              "\r",
              "\r",
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "cc4ce039-4281-40dd-9cc6-b6b996bb302b",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(pm.variables.replaceIn('Updating the entire barcodes resource at this level is not allowed for orders which have already been picked up. Please use the PUT /orders/:orderId/details/:orderDetailId/barcodes/:barcodeId endpoint to update individual barcode records for orders which have already been picked up.'));\r",
              "\r",
              " \r",
              "const options = {\r",
              "    'urlParam' : 'expand=details/barcodes'\r",
              "}\r",
              "utils.getOrderById(pm,pm.variables.get('temp_orderId_barcodeId18'), options, verifyOriginalBarcodeExists);\r",
              "\r",
              "//verify original barcode still exists\r",
              "function verifyOriginalBarcodeExists(resp)\r",
              "{\r",
              "    if ((resp.details[0].barcodes).length > 0) {\r",
              "        pm.test(pm.collectionVariables.replaceIn(\"BarcodeId {{temp_barcode_barcodeId18}} has not been replaced or deleted\"), function () {\r",
              "            pm.expect(resp.details[0].barcodes[0].barcodeId).to.equal(pm.variables.get('temp_barcodeId'));\r",
              "        });\r",
              "    }\r",
              "    else {\r",
              "        pm.test(pm.collectionVariables.replaceIn(\"BarcodeId {{temp_barcode_barcodeId18}} has not been deleted or replaced\"), function () {\r",
              "            pm.expect(false).to.equal(true);\r",
              "        });\r",
              "    }\r",
              "}\r",
              "utils.applyStatusUpdateToTrip(pm,'COMPLETE', pm.variables.get('temp_tripNumber_barcode18'));"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "75f8d13c-a9ac-4710-adf8-f89978283017",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"details\": [\r\n        {\r\n            \"items\": 2,\r\n            \"barcodes\": [\r\n                {\r\n                    \"altBarcode1\": \"Replace1.1\", \r\n                    \"user5\": \"user 5\"\r\n                },\r\n                {\r\n                    \"altBarcode1\": \"Replace1.2\", \r\n                    \"user5\": \"user 5\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"items\": 1,\r\n            \"barcodes\": [\r\n                {\r\n                    \"altBarcode1\": \"Replace2.1\", \r\n                    \"user5\": \"user 5\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId18}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId18}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-75f8d13c-a9ac-4710-adf8-f89978283017"
    }
  },
  {
    "ID": "a3429492-f036-41c1-9af2-89b50e1df6f0",
    "Name": "Details Odata filter using EQ",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details?$filter=barcodes/altBarcode1 eq BCLAN&expand=barcodes",
    "Folder": "orders / orderId / details / GET / 200 - TM-168966 / $filter - TM-168966",
    "Request": {
      "name": "Details Odata filter using EQ",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "2ff637ff-b459-4e81-a7f4-06f9c37eb0d5",
            "exec": [
              "//Initial tests in the parent 200 folder Tests tab",
              "if (pm.response.code == 200) {",
              "    utils.validateExpandParameter('details');",
              "",
              "    let responseJson = pm.response.json();",
              "    let filter = decodeURIComponent(pm.request.url.query.get('$filter'));",
              "    pm.test(\"filter=\"+filter, function() {",
              "        pm.expect(responseJson.details[0].barcodes[0].altBarcode1).to.be.equal(\"BCLAN\");",
              "    });",
              "}"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f953a1c2-ce54-4b5a-839b-80e4c378a692",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": \"BCLAN\",\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": \"BCLAN\"\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ]\r",
              ");"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "a3429492-f036-41c1-9af2-89b50e1df6f0",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details?$filter=barcodes/altBarcode1 eq BCLAN&expand=barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details"
          ],
          "query": [
            {
              "key": "$filter",
              "value": "barcodes/altBarcode1 eq BCLAN",
              "description": "Alternate barcode search"
            },
            {
              "key": "expand",
              "value": "barcodes"
            }
          ]
        },
        "description": "This will identify the orderDetail row that contains the ‘Alt Barcode 1’ value that matches the passed filtering parameter and expand all the barcode information for the row it belongs to."
      },
      "response": [],
      "uid": "8229908-a3429492-f036-41c1-9af2-89b50e1df6f0"
    }
  },
  {
    "ID": "3770ea21-9cf2-4ff6-be07-98e5414012cb",
    "Name": "barcodes - TM-168966",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details?expand=barcodes",
    "Folder": "orders / orderId / details / GET / 200 - TM-168966 / expand",
    "Request": {
      "name": "barcodes - TM-168966",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "18c2f33f-018f-4954-9d92-007c4f343735",
            "exec": [
              "//standard tests are in parent folder 200.\r",
              "if (pm.response.code == 200) {\r",
              "}"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "3f52be3f-76b0-415b-880e-a5b4243d55c6",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "3770ea21-9cf2-4ff6-be07-98e5414012cb",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details?expand=barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details"
          ],
          "query": [
            {
              "key": "expand",
              "value": "barcodes"
            }
          ]
        },
        "description": "Expand barcodes (access now as a sub-resource of the details resource)"
      },
      "response": [],
      "uid": "8229908-3770ea21-9cf2-4ff6-be07-98e5414012cb"
    }
  },
  {
    "ID": "a98cd057-dae3-4e16-b254-d9610c9726f6",
    "Name": "barcodes - webUser Auth",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details?expand=barcodes",
    "Folder": "orders / orderId / details / GET / 200 - TM-168966 / expand",
    "Request": {
      "name": "barcodes - webUser Auth",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "322a44d9-ba6f-402a-98c2-1bb5ead63c76",
            "exec": [
              "//standard tests are in parent folder 200.\r",
              "if (pm.response.code == 200) {\r",
              "}"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "8cbdd86a-b11b-4101-8446-c4e63ed44a47",
            "exec": [
              "utils.loginTM4WebUser(pm);"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "a98cd057-dae3-4e16-b254-d9610c9726f6",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{temp_JWT}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": ""
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details?expand=barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details"
          ],
          "query": [
            {
              "key": "expand",
              "value": "barcodes"
            }
          ]
        }
      },
      "response": [],
      "uid": "8229908-a98cd057-dae3-4e16-b254-d9610c9726f6"
    }
  },
  {
    "ID": "586d0cd6-5f45-4f01-83fa-f990782c73db",
    "Name": "barcodes / items do not match",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details",
    "Folder": "orders / orderId / details / POST / 4xx / InvalidBusinessLogic",
    "Request": {
      "name": "barcodes / items do not match",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "1603cfc4-57e1-410c-9cc3-91a8b90e2ab9",
            "exec": [
              "utils.testInvalidBusinessLogicResponse('The number of item level tracking (items) does not match the number of barcodes sent with the request.');"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "614a7c73-7ccc-4757-9150-d83fa63492a4",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "586d0cd6-5f45-4f01-83fa-f990782c73db",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "[\r\n    {\r\n        \"commodity\": \"FAK\",\r\n        \"items\": 2,\r\n        \"barcodes\": [\r\n            {\r\n                \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\"\r\n            }\r\n        ]\r\n    }\r\n]",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details"
          ]
        }
      },
      "response": [],
      "uid": "8229908-586d0cd6-5f45-4f01-83fa-f990782c73db"
    }
  },
  {
    "ID": "66d361d1-0f5f-4206-8a76-bfb2c3a578af",
    "Name": "Barcodes without Items",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders/{{temp_postDetOrderId4}}/details",
    "Folder": "orders / orderId / details / POST / 4xx / InvalidBusinessLogic",
    "Request": {
      "name": "Barcodes without Items",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "1603cfc4-57e1-410c-9cc3-91a8b90e2ab9",
            "exec": [
              "utils.testInvalidBusinessLogicResponse('The number of item level tracking (items) must be provided when creating barcodes');"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "614a7c73-7ccc-4757-9150-d83fa63492a4",
            "exec": [
              "utils.createPostedOrders(pm,undefined, (response) => {\r",
              "    let jsonResponse = response.json();\r",
              "    let temp_postDetOrderId4 = jsonResponse.orders[0].orderId;\r",
              "    pm.variables.set('temp_postDetOrderId4', temp_postDetOrderId4);\r",
              "    });"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "66d361d1-0f5f-4206-8a76-bfb2c3a578af",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "[\r\n    {\r\n        \"commodity\": \"FAK\",\r\n        \"barcodes\": [\r\n            {\r\n                \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\"\r\n            }\r\n        ]\r\n    }\r\n]",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_postDetOrderId4}}/details",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_postDetOrderId4}}",
            "details"
          ]
        }
      },
      "response": [],
      "uid": "8229908-66d361d1-0f5f-4206-8a76-bfb2c3a578af"
    }
  },
  {
    "ID": "2ac40606-08a2-4c8f-839d-0e415e791c59",
    "Name": "barcodes",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}?expand=barcodes",
    "Folder": "orders / orderId / details / orderDetailId / GET / 200 / expand",
    "Request": {
      "name": "barcodes",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "78ed4490-23b1-4832-a76d-0640753a615c",
            "exec": [
              "utils.setResourceId(pm, 'postedOrder','details','orderDetailId');"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "1753f4a8-00f8-45ab-9428-a93e6fc87335",
            "exec": [
              "//standard tests are in parent folder 200.\r",
              "if (pm.response.code == 200) {\r",
              "}"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "2ac40606-08a2-4c8f-839d-0e415e791c59",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}?expand=barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details",
            "{{resourceId}}"
          ],
          "query": [
            {
              "key": "expand",
              "value": "barcodes"
            }
          ]
        }
      },
      "response": [],
      "uid": "8229908-2ac40606-08a2-4c8f-839d-0e415e791c59"
    }
  },
  {
    "ID": "8e7ceac3-5734-474f-be0b-b202ae6f09c0",
    "Name": "single wo barcodeId",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 200 / details.barcodes",
    "Request": {
      "name": "single wo barcodeId",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"OriginaAl\",\r",
              "                            \"altBarcode2\": \"OriginaA2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",                            \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes', resp.orders[0].details[0].barcodes);\r",
              "        console.log('Replace orderId | orderDetailId | original barcodeId',\r",
              "            resp.orders[0].orderId + ' | ' +\r",
              "            resp.orders[0].details[0].orderDetailId + ' | ' +\r",
              "            resp.orders[0].details[0].barcodes[0].barcodeId\r",
              "        );\r",
              "    }     \r",
              ");"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "8e7ceac3-5734-474f-be0b-b202ae6f09c0",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"volume\": {{$randomInt}},\r\n    \"volumeUnits\": \"GAL\",\r\n    \"items\": 1,\r\n    \"barcodes\": [\r\n        {\r\n            \"altBarcode1\": \"Replace1\",\r\n            \"weight\": 2,\r\n            \"weightUnits\": \"LB\",\r\n            \"user1\": \"{{$randomProduct}}\",\r\n            \"user2\": \"{{$randomProduct}}\",\r\n            \"user3\": \"{{$randomProduct}}\",\r\n            \"user4\": \"{{$randomProduct}}\",\r\n            \"user5\": \"{{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-8e7ceac3-5734-474f-be0b-b202ae6f09c0"
    }
  },
  {
    "ID": "49f49438-4d84-4f31-862e-e89818632c75",
    "Name": "single wo barcodeId wo items",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 200 / details.barcodes",
    "Request": {
      "name": "single wo barcodeId wo items",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"OriginaAl\",\r",
              "                            \"altBarcode2\": \"OriginaA2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",                               \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes', resp.orders[0].details[0].barcodes);\r",
              "\r",
              "        console.log('Replace orderId | orderDetailId | original barcodeId',\r",
              "            resp.orders[0].orderId + ' | ' +\r",
              "            resp.orders[0].details[0].orderDetailId + ' | ' +\r",
              "            resp.orders[0].details[0].barcodes[0].barcodeId\r",
              "        );       \r",
              "    }     \r",
              ");"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "49f49438-4d84-4f31-862e-e89818632c75",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"volume\": {{$randomInt}},\r\n    \"volumeUnits\": \"GAL\",\r\n    \"barcodes\": [\r\n        {\r\n            \"altBarcode1\": \"Replace1\",\r\n            \"weight\": 2,\r\n            \"weightUnits\": \"LB\",\r\n            \"user5\": \"{{$randomColor}} {{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-49f49438-4d84-4f31-862e-e89818632c75"
    }
  },
  {
    "ID": "d465c3e3-02aa-4530-9d20-1e3548ca2420",
    "Name": "multiple wo barcodeId",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 200 / details.barcodes",
    "Request": {
      "name": "multiple wo barcodeId",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"OriginaAl\", \r",
              "                            \"altBarcode2\": \"OriginaA2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\", \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes', resp.orders[0].details[0].barcodes);\r",
              "        console.log('Replace orderId | orderDetailId | original barcodeId',\r",
              "            resp.orders[0].orderId + ' | ' +\r",
              "            resp.orders[0].details[0].orderDetailId + ' | ' +\r",
              "            resp.orders[0].details[0].barcodes[0].barcodeId\r",
              "        );\r",
              "    }  \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "d465c3e3-02aa-4530-9d20-1e3548ca2420",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"volume\": {{$randomInt}},\r\n    \"volumeUnits\": \"GAL\",\r\n    \"items\": 2,\r\n    \"barcodes\": [\r\n        {\r\n            \"altBarcode1\": \"Replace1\",\r\n            \"weight\": 2,\r\n            \"weightUnits\": \"LB\",\r\n            \"user5\": \"user 5\"\r\n        },\r\n        {\r\n            \"altBarcode1\": \"Replace2\",\r\n            \"weight\": 3,\r\n            \"weightUnits\": \"LB\",\r\n            \"user4\": \"user 4\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-d465c3e3-02aa-4530-9d20-1e3548ca2420"
    }
  },
  {
    "ID": "6aba6616-4442-411c-b947-497f374eaf92",
    "Name": "multiple wo barcodeId wo items",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 200 / details.barcodes",
    "Request": {
      "name": "multiple wo barcodeId wo items",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"OriginaAl\", \r",
              "                            \"altBarcode2\": \"OriginaA2\", \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes', resp.orders[0].details[0].barcodes);\r",
              "        console.log('orderId | orderDetailId | original barcodeId',\r",
              "            resp.orders[0].orderId + ' | ' +\r",
              "            resp.orders[0].details[0].orderDetailId + ' | ' +\r",
              "            resp.orders[0].details[0].barcodes[0].barcodeId\r",
              "        );\r",
              "    }  \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "6aba6616-4442-411c-b947-497f374eaf92",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"barcodes\": [\r\n        {\r\n            \"altBarcode1\": \"Replace1\",\r\n            \"user5\": \"user 5\"\r\n        },\r\n        {\r\n            \"altBarcode1\": \"Replace2\",\r\n            \"pallets\": 2,\r\n            \"palletUnits\": \"PLT\",           \r\n            \"user4\": \"user 4\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-6aba6616-4442-411c-b947-497f374eaf92"
    }
  },
  {
    "ID": "96b0218d-2489-46f4-846a-9168abae0c5b",
    "Name": "single w barcodeId wo items",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 200 / details.barcodes",
    "Request": {
      "name": "single w barcodeId wo items",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAAl\", \r",
              "                            \"altBarcode2\": \"ORIGINALA2\", \r",
              "                            \"volume\": 1,\r",
              "                            \"volumeUnits\": \"GAL\",\r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",\r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes', resp.orders[0].details[0].barcodes);\r",
              "        pm.variables.set('original_barcodeId', resp.orders[0].details[0].barcodes[0].barcodeId);\r",
              "        console.log('orderId | orderDetailId | original barcodeId',\r",
              "            resp.orders[0].orderId + ' | ' +\r",
              "            resp.orders[0].details[0].orderDetailId + ' | ' +\r",
              "            resp.orders[0].details[0].barcodes[0].barcodeId\r",
              "        );\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "96b0218d-2489-46f4-846a-9168abae0c5b",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"volume\": {{$randomInt}},\r\n    \"volumeUnits\": \"GAL\",\r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{original_barcodeId}},\r\n            \"altBarcode1\": \"Replace1\",\r\n            \"weight\": 2,\r\n            \"weightUnits\": \"LB\",\r\n            \"user5\": \"{{$randomColor}} {{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-96b0218d-2489-46f4-846a-9168abae0c5b"
    }
  },
  {
    "ID": "4fa4b63e-5452-4e00-8828-36e9fe9ccd57",
    "Name": "multiple w barcodeId wo items",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 200 / details.barcodes",
    "Request": {
      "name": "multiple w barcodeId wo items",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [                                               { \r",
              "                            \"altBarcode1\": \"ORIGINAL_1.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_1.2\",\r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",                              \r",
              "                            \"user1\": \"user 1.1\" \r",
              "                        },                                               { \r",
              "                            \"altBarcode1\": \"ORIGINAL_2.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_2.2\", \r",
              "                            \"weight\": 2,\r",
              "                            \"weightUnits\": \"LB\",                             \r",
              "                            \"user2\": \"user 2.2\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes', resp.orders[0].details[0].barcodes);\r",
              "        console.log('orderId | orderDetailId',\r",
              "            resp.orders[0].orderId + ' | ' +\r",
              "            resp.orders[0].details[0].orderDetailId\r",
              "        );\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);\r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        console.log(\"Update 2 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId2', barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "4fa4b63e-5452-4e00-8828-36e9fe9ccd57",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"volume\": {{$randomInt}},\r\n    \"volumeUnits\": \"GAL\",\r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId1}},\r\n            \"altBarcode1\": \"Replace1.1\",\r\n            \"weight\": 3,\r\n            \"weightUnits\": \"LB\",\r\n            \"user4\": \"1.4 {{$randomColor}} {{$randomProduct}}\"\r\n        },\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId2}},\r\n            \"altBarcode2\": \"Replace2.2\",\r\n            \"weight\": 4,\r\n            \"weightUnits\": \"LB\",\r\n            \"user5\": \"2.5 {{$randomColor}} {{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-4fa4b63e-5452-4e00-8828-36e9fe9ccd57"
    }
  },
  {
    "ID": "3aae6673-516f-4a1d-a875-62b59c2d0530",
    "Name": "update 1 existing barcode / do not modify the second",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 200 / details.barcodes",
    "Request": {
      "name": "update 1 existing barcode / do not modify the second",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAL_1.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_1.2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",                             \r",
              "                            \"user1\": \"user 1.1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAL_2.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_2.2\", \r",
              "                            \"weight\": 2,\r",
              "                            \"weightUnits\": \"LB\",                             \r",
              "                            \"user2\": \"user 2.2\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes', resp.orders[0].details[0].barcodes);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "3aae6673-516f-4a1d-a875-62b59c2d0530",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"volume\": {{$randomInt}},\r\n    \"volumeUnits\": \"GAL\",    \r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId1}},\r\n            \"altBarcode1\": \"Replace1\",\r\n            \"weight\": 3,\r\n            \"weightUnits\": \"LB\",            \r\n            \"user3\": \"1.3 {{$randomColor}} {{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-3aae6673-516f-4a1d-a875-62b59c2d0530"
    }
  },
  {
    "ID": "0f1cda94-d4eb-46ab-aa3a-e6319af3d9e3",
    "Name": "update 1 existing barcode / create two new barcodes - TM-185682",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 200 / details.barcodes",
    "Request": {
      "name": "update 1 existing barcode / create two new barcodes - TM-185682",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "if (pm.response.code == 200){\r",
              "        //Ensure no duplicate barcodes are returned\r",
              "        let responseJson = pm.response.json();\r",
              "        const responseIDs = responseJson.barcodes.map(barcode => barcode.barcodeId);\r",
              "        const uniqueIDs = new Set(responseIDs);\r",
              "        pm.test(\"Unique IDs\", function () {\r",
              "            pm.expect(Array.from(uniqueIDs)).to.deep.equal(responseIDs);\r",
              "        });\r",
              "\r",
              "}\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 3, \r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAL_1.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_1.2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",                             \r",
              "                            \"user1\": \"user 1.1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAL_2.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_2.2\", \r",
              "                            \"weight\": 2,\r",
              "                            \"weightUnits\": \"LB\",                             \r",
              "                            \"user2\": \"user 2.2\" \r",
              "                        } ,\r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAL_3.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_3.2\", \r",
              "                            \"weight\": 2,\r",
              "                            \"weightUnits\": \"LB\",                             \r",
              "                            \"user2\": \"user 2.2\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes', resp.orders[0].details[0].barcodes);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);\r",
              "        pm.variables.set('temp_orderId', resp.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId', resp.orders[0].details[0].orderDetailId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "0f1cda94-d4eb-46ab-aa3a-e6319af3d9e3",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"volume\": {{$randomInt}},\r\n    \"volumeUnits\": \"GAL\",\r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId1}},\r\n            \"altBarcode1\": \"Replace1\",\r\n            \"weight\": 3,\r\n            \"weightUnits\": \"LB\",\r\n            \"user3\": \"1.3 {{$randomColor}} {{$randomProduct}}\"\r\n        },\r\n        {\r\n            \"altBarcode1\": \"NEW_1.1\",\r\n            \"altBarcode2\": \"NEW_1.2\",\r\n            \"weight\": 3,\r\n            \"weightUnits\": \"LB\",\r\n            \"user3\": \"1.3 {{$randomColor}} {{$randomProduct}}\"\r\n        },\r\n        {\r\n            \"altBarcode1\": \"NEW_2.1\",\r\n            \"altBarcode2\": \"NEW_2.2\",\r\n            \"weight\": 3,\r\n            \"weightUnits\": \"LB\",\r\n            \"user3\": \"1.3 {{$randomColor}} {{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-0f1cda94-d4eb-46ab-aa3a-e6319af3d9e3"
    }
  },
  {
    "ID": "7a557fbb-655c-40fb-9243-83b7481b7826",
    "Name": "update 1 existing barcode / do not modify the second / add a new third",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 200 / details.barcodes",
    "Request": {
      "name": "update 1 existing barcode / do not modify the second / add a new third",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAL_1.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_1.2\", \r",
              "                            \"weight\": 1,\r",
              "                            \"weightUnits\": \"LB\",                             \r",
              "                            \"user1\": \"user 1.1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAL_2.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_2.2\", \r",
              "                            \"weight\": 2,\r",
              "                            \"weightUnits\": \"LB\",                             \r",
              "                            \"user2\": \"user 2.2\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes', resp.orders[0].details[0].barcodes);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "7a557fbb-655c-40fb-9243-83b7481b7826",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"volume\": {{$randomInt}},\r\n    \"volumeUnits\": \"GAL\",        \r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId1}},\r\n            \"altBarcode1\": \"Replace1\",\r\n            \"weight\": 3,\r\n            \"weightUnits\": \"LB\",\r\n            \"user1\": \"1.1 {{$randomColor}} {{$randomProduct}}\"\r\n        },\r\n        {\r\n            \"altBarcode1\": \"New_3\",\r\n            \"weight\": 4,\r\n            \"weightUnits\": \"LB\",\r\n            \"user3\": \"3.3 {{$randomColor}} {{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-7a557fbb-655c-40fb-9243-83b7481b7826"
    }
  },
  {
    "ID": "606e2782-81bb-43a9-8b00-5412f4a06322",
    "Name": "update barcodes with units - wo barcodeId",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 200 / details.barcodes",
    "Request": {
      "name": "update barcodes with units - wo barcodeId",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": pm.environment.get('START_ZONE')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes', resp.orders[0].details[0].barcodes);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Replace 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);\r",
              "    } \r",
              ");"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "606e2782-81bb-43a9-8b00-5412f4a06322",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"items\": 1,\r\n    \"weight\": 5,\r\n    \"weightUnits\": \"LB\",\r\n    \"length\": 0,\r\n    \"lengthUnits\": \"IN\",\r\n    \"barcodes\": [\r\n        {\r\n            \"altBarcode1\": \"{{$randomProduct}}\",\r\n            \"cubeUnits\": \"FT3\",\r\n            \"height\": 10,\r\n            \"heightUnits\": \"FT\",\r\n            \"pallets\": 1,\r\n            \"palletUnits\": \"PLT\",\r\n            \"pieces\": 1,\r\n            \"pieceUnits\": \"LD\",\r\n            \"temperature\": 32,\r\n            \"temperatureUnits\": \"C\",\r\n            \"volume\": 1,\r\n            \"volumeUnits\": \"GAL\",\r\n            \"weight\": 5,\r\n            \"weightUnits\": \"LB\",\r\n            \"length\": 0,\r\n            \"lengthUnits\": \"IN\",\r\n            \"width\": 1,\r\n            \"widthUnits\": \"IN\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-606e2782-81bb-43a9-8b00-5412f4a06322"
    }
  },
  {
    "ID": "fe42233b-f0f2-490b-9fb4-ec25ef54d4d4",
    "Name": "barcodeId not found for order - No id values match",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId1}}/details/{{temp_orderDetailId_barcodeId1}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 4xx / invalidBusinessLogic / barcodes",
    "Request": {
      "name": "barcodeId not found for order - No id values match",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "0385c4b5-244e-4b41-90cd-41baa906728c",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2,\r",
              "                    \"barcodes\": [ \r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1\"\r",
              "                        },\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original2\"\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ],\r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('temp_orderId_barcodeId1', resp.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId_barcodeId1', resp.orders[0].details[0].orderDetailId);\r",
              "    }   \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "611d0c02-dea3-49e0-b557-d8e56aac8e67",
            "exec": [
              "let orderId = pm.request.url.path.at(-3);\r",
              "let orderDetailId = pm.request.url.path.at(-1);\r",
              "let msg = pm.variables.replaceIn(\"barcodeId [11] not found for order [\")+orderId+\"], with orderDetailId [\"+orderDetailId +\"].\"\r",
              "\r",
              "utils.testInvalidBusinessLogicResponse(msg);\r",
              "// Note: although both barcode ids are incorrect, the PUT request is blocked as soon as the first invalid barcode id is detected.\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId1'));"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "fe42233b-f0f2-490b-9fb4-ec25ef54d4d4",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": 11,\r\n            \"altBarcode1\": \"Replace1\"\r\n        },\r\n        {\r\n            \"barcodeId\": 12,\r\n            \"altBarcode1\": \"Replace2\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId1}}/details/{{temp_orderDetailId_barcodeId1}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId1}}",
            "details",
            "{{temp_orderDetailId_barcodeId1}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-fe42233b-f0f2-490b-9fb4-ec25ef54d4d4"
    }
  },
  {
    "ID": "b074a4ea-1602-4346-ab15-9d66aec6d2c4",
    "Name": "barcodeId not found for order - 1 of 2 id values is incorrect",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId2}}/details/{{temp_orderDetailId_barcodeId2}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 4xx / invalidBusinessLogic / barcodes",
    "Request": {
      "name": "barcodeId not found for order - 1 of 2 id values is incorrect",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "let orderId = pm.request.url.path.at(-3);\r",
              "let orderDetailId = pm.request.url.path.at(-1);\r",
              "let msg = pm.variables.replaceIn(\"barcodeId [{{temp_barcodeId2}}] not found for order [\")+orderId+\"], with orderDetailId [\"+orderDetailId +\"].\"\r",
              "\r",
              "utils.testInvalidBusinessLogicResponse(msg);\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId2'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [ // 2 barcodes are saved to the order\r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAL_1.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_1.2\", \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }, \r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAL_2.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_2.2\", \r",
              "                            \"user2\": \"user 2\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        \r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        pm.variables.set('temp_barcodeId1', barcodeId);\r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        console.log('original barcodeId2', barcodeId);\r",
              "        pm.variables.set('temp_barcodeId2', barcodeId+100);\r",
              "        pm.variables.set('temp_orderId_barcodeId2', resp.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId_barcodeId2', resp.orders[0].details[0].orderDetailId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "b074a4ea-1602-4346-ab15-9d66aec6d2c4",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId1}},\r\n            \"altBarcode1\": \"Replace1\"\r\n        },\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId2}},\r\n            \"altBarcode1\": \"Replace2\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId2}}/details/{{temp_orderDetailId_barcodeId2}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId2}}",
            "details",
            "{{temp_orderDetailId_barcodeId2}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-b074a4ea-1602-4346-ab15-9d66aec6d2c4"
    }
  },
  {
    "ID": "5111d742-7a6b-47ba-a9da-1a9359d8d995",
    "Name": "barcode Ids in the request are duplicated",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId3}}/details/{{temp_orderDetailId_barcodeId3}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 4xx / invalidBusinessLogic / barcodes",
    "Request": {
      "name": "barcode Ids in the request are duplicated",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse('The barcode ids in the request are duplicated.');\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId3'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": \"Original1\"\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        pm.variables.set('barcodeId', barcodeId); \r",
              "        pm.variables.set('temp_orderId_barcodeId3', resp.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId_barcodeId3', resp.orders[0].details[0].orderDetailId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "5111d742-7a6b-47ba-a9da-1a9359d8d995",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{barcodeId}},\r\n            \"altBarcode1\": \"Replace1.1\"\r\n        },\r\n        {\r\n            \"barcodeId\": {{barcodeId}},\r\n            \"altBarcode1\": \"Replace1.2\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId3}}/details/{{temp_orderDetailId_barcodeId3}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId3}}",
            "details",
            "{{temp_orderDetailId_barcodeId3}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-5111d742-7a6b-47ba-a9da-1a9359d8d995"
    }
  },
  {
    "ID": "cbc3f707-ab8c-4498-a9e6-80f3805dc404",
    "Name": "Item level tracking level cannot be changed",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId6}}/details/{{temp_orderDetailId_barcodeId6}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 4xx / invalidBusinessLogic / barcodes",
    "Request": {
      "name": "Item level tracking level cannot be changed",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse('The item level tracking value (items) cannot be changed when specific existing barcodes are being updated.');\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        { \r",
              "                            \"altBarcode1\": \"ORIGINAAl\", \r",
              "                            \"altBarcode2\": \"ORIGINALA2\", \r",
              "                            \"user1\": \"user 1\" \r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => {\r",
              "        let resp = response.json();\r",
              "        pm.variables.set('temp_orderId_barcodeId6', resp.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId_barcodeId6', resp.orders[0].details[0].orderDetailId);\r",
              "        pm.variables.set('temp_barcode_barcodeId6', resp.orders[0].details[0].barcodes[0].barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "cbc3f707-ab8c-4498-a9e6-80f3805dc404",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"items\": 1,\r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{temp_barcode_barcodeId6}},\r\n            \"altBarcode1\": \"Replace1\",\r\n            \"user5\": \"{{$randomColor}} {{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId6}}/details/{{temp_orderDetailId_barcodeId6}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId6}}",
            "details",
            "{{temp_orderDetailId_barcodeId6}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-cbc3f707-ab8c-4498-a9e6-80f3805dc404"
    }
  },
  {
    "ID": "bf8cac19-0cda-4603-b449-b235996c0ef5",
    "Name": "Item level tracking level cannot be changed - Updating specific barcodeId",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId7}}/details/{{temp_orderDetailId_barcodeId7}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 4xx / invalidBusinessLogic / barcodes",
    "Request": {
      "name": "Item level tracking level cannot be changed - Updating specific barcodeId",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse('The item level tracking value (items) cannot be changed when specific existing barcodes are being updated.');\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId7'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [                                               { \r",
              "                            \"altBarcode1\": \"ORIGINAL_1.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_1.2\", \r",
              "                            \"user1\": \"user 1.1\" \r",
              "                        },                                               { \r",
              "                            \"altBarcode1\": \"ORIGINAL_2.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_2.2\", \r",
              "                            \"user2\": \"user 2.2\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('original_barcodes11', resp.orders[0].details[0].barcodes);\r",
              "        pm.variables.set('temp_orderId_barcodeId7', resp.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId_barcodeId7', resp.orders[0].details[0].orderDetailId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId11', barcodeId);\r",
              "\r",
              "        barcodeId = resp.orders[0].details[0].barcodes[1].barcodeId;\r",
              "        console.log(\"Update 2 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId22', barcodeId);\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "bf8cac19-0cda-4603-b449-b235996c0ef5",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"items\": 2,\r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId11}},\r\n            \"altBarcode1\": \"Replace1.1\",\r\n            \"user4\": \"1.4 {{$randomColor}} {{$randomProduct}}\"\r\n        },\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId22}},\r\n            \"altBarcode2\": \"Replace2.2\",\r\n            \"user5\": \"2.5 {{$randomColor}} {{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId7}}/details/{{temp_orderDetailId_barcodeId7}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId7}}",
            "details",
            "{{temp_orderDetailId_barcodeId7}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-bf8cac19-0cda-4603-b449-b235996c0ef5"
    }
  },
  {
    "ID": "0a019e25-889a-4894-86c7-b3ec9d1829b1",
    "Name": "Item level tracking level cannot be changed - Updating a specific barcodeId and one new barcode",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId8}}/details/{{temp_orderDetailId_barcodeId8}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 4xx / invalidBusinessLogic / barcodes",
    "Request": {
      "name": "Item level tracking level cannot be changed - Updating a specific barcodeId and one new barcode",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7efaad89-2745-4a4d-98b2-6cbd4f5d451a",
            "exec": [
              "utils.testInvalidBusinessLogicResponse('The item level tracking value (items) cannot be changed when specific existing barcodes are being updated.');\r",
              "utils.applyStatusUpdateToOrder(pm,'CANCL', pm.variables.get('temp_orderId_barcodeId8'));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f241206b-1ece-4252-8ad4-f90621f1aefc",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [ \r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 2, \r",
              "                    \"barcodes\": [                                               { \r",
              "                            \"altBarcode1\": \"ORIGINAL_1.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_1.2\", \r",
              "                            \"user1\": \"user 1.1\" \r",
              "                        },                                               { \r",
              "                            \"altBarcode1\": \"ORIGINAL_2.1\", \r",
              "                            \"altBarcode2\": \"ORIGINAL_2.2\", \r",
              "                            \"user2\": \"user 2.2\" \r",
              "                        } \r",
              "                    ] \r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], \r",
              "    (response) => { \r",
              "        let resp = response.json();\r",
              "        pm.variables.set('temp_orderId_barcodeId8', resp.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId_barcodeId8', resp.orders[0].details[0].orderDetailId);\r",
              "\r",
              "        let barcodeId = resp.orders[0].details[0].barcodes[0].barcodeId;\r",
              "        console.log(\"Update 1 barcodeId = \"+barcodeId);\r",
              "        pm.variables.set('temp_barcodeId111', barcodeId);\r",
              "\r",
              "    } \r",
              ");\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "0a019e25-889a-4894-86c7-b3ec9d1829b1",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"items\": 2,\r\n    \"barcodes\": [\r\n        {\r\n            \"barcodeId\": {{temp_barcodeId111}},\r\n            \"altBarcode1\": \"Replace1.1\",\r\n            \"user4\": \"1.4 {{$randomColor}} {{$randomProduct}}\"\r\n        },\r\n        {\r\n            \"altBarcode2\": \"Replace2.2\",\r\n            \"user5\": \"2.5 {{$randomColor}} {{$randomProduct}}\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId8}}/details/{{temp_orderDetailId_barcodeId8}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId8}}",
            "details",
            "{{temp_orderDetailId_barcodeId8}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-0a019e25-889a-4894-86c7-b3ec9d1829b1"
    }
  },
  {
    "ID": "60d59c1a-0202-4b4a-982d-da0e6bf958ab",
    "Name": "Item level tracking does not match number of barcodes",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 4xx / invalidBusinessLogic / barcodes",
    "Request": {
      "name": "Item level tracking does not match number of barcodes",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "8b239fe6-8a6a-47b6-9f8a-559f5a9250ea",
            "exec": [
              "utils.testInvalidBusinessLogicResponse('The number of item level tracking (items) does not match the number of barcodes sent with the request');"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "07b13f10-cc0c-4f84-9244-b3c5e69479f4",
            "exec": [
              "utils.setResourceId(pm,'postedOrder','details','orderDetailId');"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "60d59c1a-0202-4b4a-982d-da0e6bf958ab",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"items\": -1,\r\n    \"barcodes\": [\r\n        {\r\n            \"altBarcode1\": \"My alt barcode updated from detail \"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details",
            "{{resourceId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-60d59c1a-0202-4b4a-982d-da0e6bf958ab"
    }
  },
  {
    "ID": "4a97416b-1fa4-40b8-bd9c-627e919fbb6f",
    "Name": "Updated barcodes not allowed for picked orders",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId5}}/details/{{temp_orderDetailId_barcodeId5}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 4xx / invalidBusinessLogic / barcodes",
    "Request": {
      "name": "Updated barcodes not allowed for picked orders",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "85620083-3da3-401e-8e2d-cef2b2cf379a",
            "exec": [
              " \r",
              "\r",
              "//define orders body to be used when creating order to be assigned to the trip:\r",
              "let orders = [{\r",
              "        \"pickUpBy\": pm.globals.get('CurrentDatetime'),\r",
              "        \"pickUpByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "        \"deliverBy\": pm.globals.get('CurrentDatetime'),\r",
              "        \"deliverByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "        \"startZone\": \"BCLAN\",\r",
              "        \"endZone\": \"ABCAL\",\r",
              "        \"caller\": { \"clientId\": \"TM\", \"name\": pm.variables.replaceIn('{{$randomFullName}}') },\r",
              "        \"details\": [\r",
              "          {\r",
              "            \"commodity\": \"FAK\",\r",
              "            \"description\": \"detail desc \",\r",
              "            \"weight\": 123,\r",
              "            \"weightUnits\": \"LB\",\r",
              "            \"pieces\": 10,\r",
              "            \"piecesUnits\": \"LD\",\r",
              "            \"items\": 1,\r",
              "            \"barcodes\": [{\r",
              "                \"altBarcode1\": \"TEST\"\r",
              "            }]\r",
              "          }\r",
              "        ],\r",
              "        \"aCharges\": [\r",
              "          {\r",
              "            \"aChargeCode\": pm.variables.get('ACHARGE_CODE'),\r",
              "            \"quantity\": 50,\r",
              "            \"rate\": 0.5,\r",
              "            \"user1\": pm.variables.replaceIn('{{$randomProduct}}'),\r",
              "            \"threshold\": 5,\r",
              "            \"increment\": 3\r",
              "          }\r",
              "        ]\r",
              "      }]\r",
              "\r",
              "utils.createPostedOrders(pm,orders, \r",
              "(response) => {\r",
              "    let resp = response.json();\r",
              "    pm.variables.set('temp_orderId_barcodeId5', resp.orders[0].orderId);\r",
              "    pm.variables.set('temp_orderDetailId_barcodeId5', resp.orders[0].details[0].orderDetailId);\r",
              "    pm.variables.set('temp_barcode_barcodeId5', resp.orders[0].details[0].barcodes[0].barcodeId);\r",
              "    utils.createTrip(pm,\r",
              "        {\r",
              "            \"fromZone\": \"BCVAN\",\r",
              "            \"toZone\": \"BCVAN\",\r",
              "            \"pickupDeliveryTrip\": \"True\",\r",
              "            \"stops\": [\r",
              "                {\r",
              "                    \"zone\": \"BCLAN\",\r",
              "                    \"resources\": [\r",
              "                        {\r",
              "                            \"type\": \"freight\",\r",
              "                            \"action\": \"pick\",\r",
              "                            \"resourceId\": pm.variables.get('temp_orderId_barcodeId5')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]            \r",
              "        }, (tripResponse) => {\r",
              "        \r",
              "        let tripResp = tripResponse.json();\r",
              "        pm.variables.set('temp_tripNumber_barcode2', tripResp.tripNumber);\r",
              "        pm.sendRequest({\r",
              "            url: pm.environment.get(\"DOMAIN\") + \"/trips/\" + pm.variables.get('temp_tripNumber_barcode2') + \"/orders/\" + pm.variables.get('temp_orderId_barcodeId5')+ \"/status\",\r",
              "            method: 'PUT',\r",
              "            header: {\r",
              "                'Accept': 'application/json',\r",
              "                'Content-Type': 'application/Json',\r",
              "                'Authorization': 'Bearer ' + pm.variables.replaceIn('{{TRUCKMATE_API_KEY}}')\r",
              "            },\r",
              "            body: {\r",
              "                mode: 'application/json',\r",
              "                raw: JSON.stringify({\r",
              "                    \"statusCode\": \"PICKD\",\r",
              "                    \"reason\": pm.variables.get('REASON_CODE'),\r",
              "                    \"zone\": \"BCLAN\"\r",
              "                })\r",
              "            }\r",
              "        })\r",
              "    });\r",
              "}\r",
              ");\r",
              "\r",
              "\r",
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "cc4ce039-4281-40dd-9cc6-b6b996bb302b",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(pm.variables.replaceIn('Updating the entire barcodes resource at this level is not allowed for orders which have already been picked up. Please use the PUT /orders/:orderId/details/:orderDetailId/barcodes/:barcodeId endpoint to update individual barcode records for orders which have already been picked up.'));\r",
              "\r",
              " \r",
              "const options = {\r",
              "    'urlParam' : 'expand=details/barcodes'\r",
              "}\r",
              "utils.getOrderById(pm,pm.variables.get('temp_orderId_barcodeId5'), options, verifyOriginalBarcodeExists);\r",
              "\r",
              "//verify original barcode still exists\r",
              "function verifyOriginalBarcodeExists(resp)\r",
              "{\r",
              "    if ((resp.details[0].barcodes).length > 0) {\r",
              "        pm.test(pm.collectionVariables.replaceIn(\"BarcodeId {{temp_barcode_barcodeId5}} has not been replaced or deleted\"), function () {\r",
              "            pm.expect(resp.details[0].barcodes[0].barcodeId).to.equal(pm.variables.get('temp_barcode_barcodeId5'));\r",
              "        });\r",
              "    }\r",
              "    else {\r",
              "        pm.test(pm.collectionVariables.replaceIn(\"BarcodeId {{temp_barcode_barcodeId5}} has not been deleted or replaced\"), function () {\r",
              "            pm.expect(false).to.equal(true);\r",
              "        });\r",
              "    }\r",
              "}\r",
              "utils.applyStatusUpdateToTrip(pm,'COMPLETE', pm.variables.get('temp_tripNumber_barcode2'));"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "4a97416b-1fa4-40b8-bd9c-627e919fbb6f",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"items\": 2,\r\n    \"barcodes\": [\r\n        {\r\n            \"altBarcode1\": \"Replace1\", \r\n            \"user5\": \"user 5\"\r\n        },\r\n        {\r\n            \"altBarcode1\": \"Replace2\", \r\n            \"user5\": \"user 5\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId5}}/details/{{temp_orderDetailId_barcodeId5}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId5}}",
            "details",
            "{{temp_orderDetailId_barcodeId5}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-4a97416b-1fa4-40b8-bd9c-627e919fbb6f"
    }
  },
  {
    "ID": "8f47b1db-9ade-435b-8b7e-65c4fc9a3807",
    "Name": "Updated barcodes not allowed for picked orders (Multiple barcode records)",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId4}}/details/{{temp_orderDetailId_barcodeId4}}",
    "Folder": "orders / orderId / details / orderDetailId / PUT / 4xx / invalidBusinessLogic / barcodes",
    "Request": {
      "name": "Updated barcodes not allowed for picked orders (Multiple barcode records)",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "afe90c86-089a-4ac9-a711-6097ae7fa229",
            "exec": [
              "//define orders body to be used when creating order to be assigned to the trip:\r",
              "let orders = [{\r",
              "        \"pickUpBy\": pm.globals.get('CurrentDatetime'),\r",
              "        \"pickUpByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "        \"deliverBy\": pm.globals.get('CurrentDatetime'),\r",
              "        \"deliverByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "        \"startZone\": \"BCLAN\",\r",
              "        \"endZone\": \"ABCAL\",\r",
              "        \"caller\": { \"clientId\": \"TM\", \"name\": pm.variables.replaceIn('{{$randomFullName}}') },\r",
              "        \"details\": [\r",
              "          {\r",
              "            \"commodity\": \"FAK\",\r",
              "            \"description\": \"detail desc \",\r",
              "            \"weight\": 123,\r",
              "            \"weightUnits\": \"LB\",\r",
              "            \"pieces\": 10,\r",
              "            \"piecesUnits\": \"LD\",\r",
              "            \"items\": 1,\r",
              "            \"barcodes\": [{\r",
              "                \"altBarcode1\": \"TEST\"\r",
              "            }]\r",
              "          }\r",
              "        ],\r",
              "        \"aCharges\": [\r",
              "          {\r",
              "            \"aChargeCode\": pm.variables.get('ACHARGE_CODE'),\r",
              "            \"quantity\": 50,\r",
              "            \"rate\": 0.5,\r",
              "            \"user1\": pm.variables.replaceIn('{{$randomProduct}}'),\r",
              "            \"threshold\": 5,\r",
              "            \"increment\": 3\r",
              "          }\r",
              "        ]\r",
              "      }]\r",
              "\r",
              "utils.createPostedOrders(pm, orders, \r",
              "(response) => {\r",
              "    let resp = response.json();\r",
              "    pm.variables.set('temp_orderId_barcodeId4', resp.orders[0].orderId);\r",
              "    pm.variables.set('temp_orderDetailId_barcodeId4', resp.orders[0].details[0].orderDetailId);\r",
              "    pm.variables.set('temp_barcode_barcodeId4', resp.orders[0].details[0].barcodes[0].barcodeId);\r",
              "    utils.createTrip(pm,\r",
              "        {\r",
              "            \"fromZone\": \"BCVAN\",\r",
              "            \"toZone\": \"BCVAN\",\r",
              "            \"pickupDeliveryTrip\": \"True\",\r",
              "            \"stops\": [\r",
              "                {\r",
              "                    \"zone\": \"BCLAN\",\r",
              "                    \"resources\": [\r",
              "                        {\r",
              "                            \"type\": \"freight\",\r",
              "                            \"action\": \"pick\",\r",
              "                            \"resourceId\": pm.variables.get('temp_orderId_barcodeId4')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]            \r",
              "        }, (tripResponse) => {\r",
              "        \r",
              "        let tripResp = tripResponse.json();\r",
              "        pm.variables.set('temp_tripNumber_barcode1', tripResp.tripNumber);\r",
              "        pm.sendRequest({\r",
              "            url: pm.environment.get(\"DOMAIN\") + \"/trips/\" + pm.variables.get('temp_tripNumber_barcode1') + \"/orders/\" + pm.variables.get('temp_orderId_barcodeId4')+ \"/status\",\r",
              "            method: 'PUT',\r",
              "            header: {\r",
              "                'Accept': 'application/json',\r",
              "                'Content-Type': 'application/Json',\r",
              "                'Authorization': 'Bearer ' + pm.variables.replaceIn('{{TRUCKMATE_API_KEY}}')\r",
              "            },\r",
              "            body: {\r",
              "                mode: 'application/json',\r",
              "                raw: JSON.stringify({\r",
              "                    \"statusCode\": \"PICKD\",\r",
              "                    \"reason\": pm.variables.get('REASON_CODE'),\r",
              "                    \"zone\": \"BCLAN\"\r",
              "                })\r",
              "            }\r",
              "        })\r",
              "    });\r",
              "}\r",
              ");\r",
              "\r",
              "\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "146f4e2e-cac9-4e70-bcfe-db9585d85275",
            "exec": [
              "utils.testInvalidBusinessLogicResponse(pm.variables.replaceIn('Updating the entire barcodes resource at this level is not allowed for orders which have already been picked up. Please use the PUT /orders/:orderId/details/:orderDetailId/barcodes/:barcodeId endpoint to update individual barcode records for orders which have already been picked up.'));\r",
              "\r",
              "const options = {\r",
              "    'urlParam' : 'expand=details/barcodes'\r",
              "}\r",
              "utils.getOrderById(pm, pm.variables.get('temp_orderId_barcodeId4'), options, verifyOriginalBarcodeExists);\r",
              "\r",
              "//verify original barcode still exists\r",
              "function verifyOriginalBarcodeExists(resp)\r",
              "{\r",
              "    if ((resp.details[0].barcodes).length > 0) {\r",
              "        pm.test(pm.collectionVariables.replaceIn(\"BarcodeId {{temp_barcode_barcodeId4}} has not been replaced or deleted\"), function () {\r",
              "            pm.expect(resp.details[0].barcodes[0].barcodeId).to.equal(pm.variables.get('temp_barcode_barcodeId4'));\r",
              "        });\r",
              "    }\r",
              "    else {\r",
              "        pm.test(pm.collectionVariables.replaceIn(\"BarcodeId {{temp_barcode_barcodeId4}} has not been deleted or replaced\"), function () {\r",
              "            pm.expect(false).to.equal(true);\r",
              "        });\r",
              "    }\r",
              "}\r",
              "utils.applyStatusUpdateToTrip(pm, 'COMPLETE', pm.variables.get('temp_tripNumber_barcode1'));"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "8f47b1db-9ade-435b-8b7e-65c4fc9a3807",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"items\": 1,\r\n    \"barcodes\": [\r\n        {\r\n            \"altBarcode1\": \"Replace1\", \r\n            \"user5\": \"user 5\"\r\n        }\r\n    ]\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId_barcodeId4}}/details/{{temp_orderDetailId_barcodeId4}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId_barcodeId4}}",
            "details",
            "{{temp_orderDetailId_barcodeId4}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-8f47b1db-9ade-435b-8b7e-65c4fc9a3807"
    }
  },
  {
    "ID": "c8c8ed73-835b-4dd3-b0fe-ea5ed7c96c5b",
    "Name": "barcodes",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}/barcodes",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / GET / 200 - TM-174182",
    "Request": {
      "name": "barcodes",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "e52c88db-b040-4242-89e9-3b6b53f03db0",
            "exec": [
              "utils.setResourceId(pm,'postedOrder','details','orderDetailId');"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "f239e837-1a08-43f3-b585-d36fdc2567c9",
            "exec": [
              "//standard tests are in parent folder 200.",
              "if (pm.response.code == 200) {",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "c8c8ed73-835b-4dd3-b0fe-ea5ed7c96c5b",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}/barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details",
            "{{resourceId}}",
            "barcodes"
          ]
        }
      },
      "response": [],
      "uid": "8229908-c8c8ed73-835b-4dd3-b0fe-ea5ed7c96c5b"
    }
  },
  {
    "ID": "5209bbcb-e20f-4fc5-bfdf-a3c7607866b9",
    "Name": "Get barcodes for detail line - webUser Auth",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}/barcodes",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / GET / 200 - TM-174182",
    "Request": {
      "name": "Get barcodes for detail line - webUser Auth",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "50d59636-b2c8-4a6c-8219-35027581c674",
            "exec": [
              " \r",
              "utils.loginTM4WebUser(pm);\r",
              " utils.setResourceId(pm,'postedOrder','details','orderDetailId');"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "a1016792-c36d-4fd4-b46e-135929869868",
            "exec": [
              "//standard tests are in parent folder 200.",
              "if (pm.response.code == 200) {",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "5209bbcb-e20f-4fc5-bfdf-a3c7607866b9",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{temp_JWT}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}/barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details",
            "{{resourceId}}",
            "barcodes"
          ]
        }
      },
      "response": [],
      "uid": "8229908-5209bbcb-e20f-4fc5-bfdf-a3c7607866b9"
    }
  },
  {
    "ID": "04bfc68f-c617-4757-88d0-cad8fe5dd03d",
    "Name": "404 order details not found - TM-161774",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/-999/barcodes",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / GET / 4xx",
    "Request": {
      "name": "404 order details not found - TM-161774",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "74205bf3-9b87-4332-937c-e1ee19e55245",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "4aa4530f-8403-42d5-88ca-0fb3843fa196",
            "exec": [
              "",
              "utils.testErrorCode(404);",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "04bfc68f-c617-4757-88d0-cad8fe5dd03d",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/-999/barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details",
            "-999",
            "barcodes"
          ]
        }
      },
      "response": [],
      "uid": "8229908-04bfc68f-c617-4757-88d0-cad8fe5dd03d"
    }
  },
  {
    "ID": "bf23c3cf-a5f0-4dc6-9226-ae860a2df2ab",
    "Name": "Add Barcodes to Detail Line - minimal",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / POST / 201",
    "Request": {
      "name": "Add Barcodes to Detail Line - minimal",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "68c19327-7434-47cd-aef7-66cbf4c6d183",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": pm.environment.get('START_ZONE')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], (response) =>\r",
              "    {\r",
              "        let responseJson = response.json();\r",
              "        pm.variables.set('temp_orderId', responseJson.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId', responseJson.orders[0].details[0].orderDetailId);\r",
              "    }\r",
              ");"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "af900fcf-3fd4-4140-ae66-111a2227722c",
            "exec": [
              "if (pm.response.code == 201) {\r",
              "\r",
              "}"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "bf23c3cf-a5f0-4dc6-9226-ae860a2df2ab",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "[\r\n    {\r\n        \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\",\r\n        \"locationTerminalId\": 2,\r\n        \"locationTimestamp\": \"2026-06-13 12:00:00\"\r\n\r\n    }\r\n]",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes"
          ]
        }
      },
      "response": [],
      "uid": "8229908-bf23c3cf-a5f0-4dc6-9226-ae860a2df2ab"
    }
  },
  {
    "ID": "9bcbb288-ca4b-49d8-920e-44eb7914a88d",
    "Name": "user fields",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / POST / 201",
    "Request": {
      "name": "user fields",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "68c19327-7434-47cd-aef7-66cbf4c6d183",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": pm.environment.get('START_ZONE')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], (response) => {\r",
              "        let responseJson = response.json();\r",
              "        pm.variables.set('temp_orderId', responseJson.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId', responseJson.orders[0].details[0].orderDetailId);\r",
              "    }\r",
              ");"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "af900fcf-3fd4-4140-ae66-111a2227722c",
            "exec": [
              "if (pm.response.code == 201) {\r",
              "\r",
              "}"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "9bcbb288-ca4b-49d8-920e-44eb7914a88d",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "[\r\n    {\r\n        \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\",\r\n        \"user1\": \"{{$randomProduct}}\",\r\n        \"user2\": \"{{$randomProduct}}\",\r\n        \"user3\": \"{{$randomProduct}}\",\r\n        \"user4\": \"{{$randomProduct}}\",\r\n        \"user5\": \"{{$randomProduct}}\"\r\n    }\r\n]",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes"
          ]
        }
      },
      "response": [],
      "uid": "8229908-9bcbb288-ca4b-49d8-920e-44eb7914a88d"
    }
  },
  {
    "ID": "0df63cbb-0170-439e-80e5-d07f9abcede9",
    "Name": "barcodes.cube calculated",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / POST / 201",
    "Request": {
      "name": "barcodes.cube calculated",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "68c19327-7434-47cd-aef7-66cbf4c6d183",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": pm.environment.get('START_ZONE')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ]\r",
              ");"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "af900fcf-3fd4-4140-ae66-111a2227722c",
            "exec": [
              "if (pm.response.code == 201) {\r",
              "    let responseJson = pm.response.json();\r",
              "    pm.test(\"barcodes.cube calculated - L,W,H are all 10 FT (10x10x10 = 1000 FT3)\", () => {\r",
              "        pm.expect(responseJson.barcodes[1].cube).to.eq(1000);\r",
              "        pm.expect(responseJson.barcodes[1].cubeUnits).to.eq('FT3');\r",
              "    });\r",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "0df63cbb-0170-439e-80e5-d07f9abcede9",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "[\r\n    {\r\n        \"height\": 10,\r\n        \"heightUnits\": \"FT\",\r\n        \"length\": 10,\r\n        \"lengthUnits\": \"FT\",\r\n        \"width\": 10,\r\n        \"widthUnits\": \"FT\"\r\n    }\r\n]",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes"
          ]
        }
      },
      "response": [],
      "uid": "8229908-0df63cbb-0170-439e-80e5-d07f9abcede9"
    }
  },
  {
    "ID": "829868c8-b332-4c35-94bf-502b7ad75f0e",
    "Name": "Add Barcodes to Detail Line - Quote",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes?type=Q",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / POST / 201",
    "Request": {
      "name": "Add Barcodes to Detail Line - Quote",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "68c19327-7434-47cd-aef7-66cbf4c6d183",
            "exec": [
              "utils.createRateQuote(pm, [], (response) => {let jsonData = response.json(); pm.variables.set('temp_orderId', jsonData.orders[0].orderId);});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "af900fcf-3fd4-4140-ae66-111a2227722c",
            "exec": [
              "if (pm.response.code == 201) {\r",
              "\r",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "829868c8-b332-4c35-94bf-502b7ad75f0e",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "[\r\n    {\r\n        \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\",\r\n        \"altBarcode2\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\",\r\n        \"cube\": 10,\r\n        \"cubeUnits\": \"FT3\",\r\n        \"height\": 10,\r\n        \"heightUnits\": \"FT\",\r\n        \"length\": 10,\r\n        \"lengthUnits\": \"FT\",\r\n        \"location\": \"{{START_ZONE}}\",\r\n        \"locationTerminalId\": 0,\r\n        \"locationTerminalZone\": \"\",\r\n        \"locationTimestamp\": \"{{timestampUtcIso8601}}\",\r\n        \"locationType\": \"Z\",\r\n        \"pallets\": 10,\r\n        \"palletUnits\": \"PLT\",\r\n        \"pieces\": 10,\r\n        \"pieceUnits\": \"LD\",\r\n        \"temperatureUnits\": \"F\",\r\n        \"status\": \"SHIPPER\",\r\n        \"statusComment\": \"{{$randomColor}} {{$randomProduct}}\",\r\n        \"volume\": 10,\r\n        \"volumeUnits\": \"GAL\",\r\n        \"weight\": 1000,\r\n        \"weightUnits\": \"LB\",\r\n        \"width\": 10,\r\n        \"widthUnits\": \"FT\",\r\n        \"cubePolicyId\": 0,\r\n        \"cubePolicyValue\": 0,\r\n        \"handlingNotes\": \"\",\r\n        \"intact\": \"True\",\r\n        \"lifts\": 0,\r\n        \"mobileScanned\": \"False\",\r\n        \"palletGroupId\": \"\",\r\n        \"pieceCubing\": \"False\",\r\n        \"printStatus\": \"\",\r\n        \"tripNumber\": 0,\r\n        \"user1\": \"{{$randomProduct}}\",\r\n        \"user2\": \"{{$randomProduct}}\",\r\n        \"user3\": \"{{$randomProduct}}\",\r\n        \"user4\": \"{{$randomProduct}}\",\r\n        \"user5\": \"{{$randomProduct}}\"\r\n    }\r\n]",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes?type=Q",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes"
          ],
          "query": [
            {
              "key": "type",
              "value": "Q"
            }
          ]
        }
      },
      "response": [],
      "uid": "8229908-829868c8-b332-4c35-94bf-502b7ad75f0e"
    }
  },
  {
    "ID": "fe04fc88-4de7-43ba-a863-be652b598704",
    "Name": "onlyPostedResults - true",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes?onlyPostedResults=True",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / POST / 201",
    "Request": {
      "name": "onlyPostedResults - true",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "887ac722-9161-4ec1-ac6e-0d81534d8b79",
            "exec": [
              "utils.createPostedOrders(pm,[\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get('CurrentDatetime'),\r",
              "            \"pickUpByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "            \"deliverBy\": pm.globals.get('CurrentDatetime'),\r",
              "            \"deliverByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "            \"startZone\": pm.environment.get('START_ZONE'),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"commodity\": \"FAK\",\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [{\r",
              "                        \"altBarcode1\": \"TEST\"\r",
              "                    }]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ]);"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "d80071fe-a24f-4e9f-9e93-1b3a1390b958",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "fe04fc88-4de7-43ba-a863-be652b598704",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "[\r\n    {\r\n        \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\",\r\n        \"altBarcode2\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\",\r\n        \"cube\": 10,\r\n        \"cubeUnits\": \"FT3\",\r\n        \"height\": 10,\r\n        \"heightUnits\": \"FT\",\r\n        \"length\": 10,\r\n        \"lengthUnits\": \"FT\",\r\n        \"location\": \"{{START_ZONE}}\",\r\n        \"locationTerminalId\": 0,\r\n        \"locationTerminalZone\": \"\",\r\n        \"locationTimestamp\": \"{{timestampUtcIso8601}}\",\r\n        \"locationType\": \"Z\",\r\n        \"pallets\": 10,\r\n        \"palletUnits\": \"PLT\",\r\n        \"pieces\": 10,\r\n        \"pieceUnits\": \"LD\",\r\n        \"temperatureUnits\": \"F\",\r\n        \"status\": \"SHIPPER\",\r\n        \"statusComment\": \"{{$randomColor}} {{$randomProduct}}\",\r\n        \"volume\": 10,\r\n        \"volumeUnits\": \"GAL\",\r\n        \"weight\": 1000,\r\n        \"weightUnits\": \"LB\",\r\n        \"width\": 10,\r\n        \"widthUnits\": \"FT\",\r\n        \"cubePolicyId\": 0,\r\n        \"cubePolicyValue\": 0,\r\n        \"handlingNotes\": \"\",\r\n        \"intact\": \"True\",\r\n        \"lifts\": 0,\r\n        \"mobileScanned\": \"False\",\r\n        \"palletGroupId\": \"\",\r\n        \"pieceCubing\": \"False\",\r\n        \"printStatus\": \"\",\r\n        \"tripNumber\": 0,\r\n        \"user1\": \"{{$randomProduct}}\",\r\n        \"user2\": \"{{$randomProduct}}\",\r\n        \"user3\": \"{{$randomProduct}}\",\r\n        \"user4\": \"{{$randomProduct}}\",\r\n        \"user5\": \"{{$randomProduct}}\"\r\n    }\r\n]",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes?onlyPostedResults=True",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes"
          ],
          "query": [
            {
              "key": "onlyPostedResults",
              "value": "True"
            }
          ]
        }
      },
      "response": [],
      "uid": "8229908-fe04fc88-4de7-43ba-a863-be652b598704"
    }
  },
  {
    "ID": "97a65453-3fd4-438b-b041-f77dfb3832ea",
    "Name": "onlyPostedResults - false",
    "Method": "POST",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes?onlyPostedResults=False",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / POST / 201",
    "Request": {
      "name": "onlyPostedResults - false",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "887ac722-9161-4ec1-ac6e-0d81534d8b79",
            "exec": [
              "utils.createPostedOrders(pm,[\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get('CurrentDatetime'),\r",
              "            \"pickUpByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "            \"deliverBy\": pm.globals.get('CurrentDatetime'),\r",
              "            \"deliverByEnd\": pm.globals.get('CurrentDatetime'),\r",
              "            \"startZone\": pm.environment.get('START_ZONE'),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"commodity\": \"FAK\",\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [{\r",
              "                        \"altBarcode1\": \"TEST\"\r",
              "                    }]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ]);"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "d80071fe-a24f-4e9f-9e93-1b3a1390b958",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "97a65453-3fd4-438b-b041-f77dfb3832ea",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "[\r\n    {\r\n        \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\",\r\n        \"altBarcode2\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\",\r\n        \"cube\": 10,\r\n        \"cubeUnits\": \"FT3\",\r\n        \"height\": 10,\r\n        \"heightUnits\": \"FT\",\r\n        \"length\": 10,\r\n        \"lengthUnits\": \"FT\",\r\n        \"location\": \"BCLAN\",\r\n        \"locationTerminalId\": 0,\r\n        \"locationTerminalZone\": \"\",\r\n        \"locationTimestamp\": \"{{timestampUtcIso8601}}\",\r\n        \"locationType\": \"Z\",\r\n        \"pallets\": 10,\r\n        \"palletUnits\": \"PLT\",\r\n        \"pieces\": 10,\r\n        \"pieceUnits\": \"LD\",\r\n        \"temperatureUnits\": \"F\",\r\n        \"status\": \"SHIPPER\",\r\n        \"statusComment\": \"{{$randomColor}} {{$randomProduct}}\",\r\n        \"volume\": 10,\r\n        \"volumeUnits\": \"GAL\",\r\n        \"weight\": 1000,\r\n        \"weightUnits\": \"LB\",\r\n        \"width\": 10,\r\n        \"widthUnits\": \"FT\",\r\n        \"cubePolicyId\": 0,\r\n        \"cubePolicyValue\": 0,\r\n        \"handlingNotes\": \"\",\r\n        \"intact\": \"True\",\r\n        \"lifts\": 0,\r\n        \"mobileScanned\": \"False\",\r\n        \"palletGroupId\": \"\",\r\n        \"pieceCubing\": \"False\",\r\n        \"printStatus\": \"\",\r\n        \"tripNumber\": 0,\r\n        \"user1\": \"{{$randomProduct}}\",\r\n        \"user2\": \"{{$randomProduct}}\",\r\n        \"user3\": \"{{$randomProduct}}\",\r\n        \"user4\": \"{{$randomProduct}}\",\r\n        \"user5\": \"{{$randomProduct}}\"\r\n    }\r\n]",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes?onlyPostedResults=False",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes"
          ],
          "query": [
            {
              "key": "onlyPostedResults",
              "value": "False"
            }
          ]
        }
      },
      "response": [],
      "uid": "8229908-97a65453-3fd4-438b-b041-f77dfb3832ea"
    }
  },
  {
    "ID": "ed3dd40c-fadd-48d5-ae96-bca9ea9e7b2c",
    "Name": "Direct lookup by barcodeId",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}/barcodes/{{grandchildResourceId}}",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / barcodeId / GET / 200",
    "Request": {
      "name": "Direct lookup by barcodeId",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "6e37e738-8ac2-415e-a2ca-82fc1683a2c9",
            "exec": [
              " \r",
              " utils.setResourceId(pm,'postedOrder','details','orderDetailId');\r",
              "utils.setGrandchildResourceId(pm,'postedOrder','details/barcodes','barcodeId');"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "33a7a4ed-98a0-4795-bc78-55eac5935d10",
            "exec": [
              "",
              "//standard tests are in parent folder 200.",
              "if (pm.response.code == 200) {",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "ed3dd40c-fadd-48d5-ae96-bca9ea9e7b2c",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}/barcodes/{{grandchildResourceId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details",
            "{{resourceId}}",
            "barcodes",
            "{{grandchildResourceId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-ed3dd40c-fadd-48d5-ae96-bca9ea9e7b2c"
    }
  },
  {
    "ID": "7cc4b653-2ce0-4d55-9d7f-d07e7983553c",
    "Name": "Direct lookup by barcodeId - webUser Auth",
    "Method": "GET",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}/barcodes/{{grandchildResourceId}}",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / barcodeId / GET / 200",
    "Request": {
      "name": "Direct lookup by barcodeId - webUser Auth",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "806e6b26-e849-4cd9-8c07-4386ffa33f4a",
            "exec": [
              " \r",
              "utils.loginTM4WebUser(pm);\r",
              " utils.setResourceId(pm,'postedOrder','details','orderDetailId');\r",
              "utils.setGrandchildResourceId(pm,'postedOrder','details/barcodes','barcodeId');"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "17669994-94a2-4b59-9996-9030854dce71",
            "exec": [
              "",
              "//standard tests are in parent folder 200.",
              "if (pm.response.code == 200) {",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "7cc4b653-2ce0-4d55-9d7f-d07e7983553c",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{temp_JWT}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}/barcodes/{{grandchildResourceId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details",
            "{{resourceId}}",
            "barcodes",
            "{{grandchildResourceId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-7cc4b653-2ce0-4d55-9d7f-d07e7983553c"
    }
  },
  {
    "ID": "b6af6197-cd07-4889-8c1c-6b440b484754",
    "Name": "Update Barcode",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / barcodeId / PUT / 200",
    "Request": {
      "name": "Update Barcode",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "2fb37026-9f28-4244-8164-427694d26c4f",
            "exec": [
              "//Manually verify Dimensional Change History tab in CServ (TLORDER_ILT_RTLDTL)!"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "c214d58b-5da2-46d9-bf07-5d2fea729da7",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": 'BCLAN'\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ], (response) => {\r",
              "        let responseJson = response.json();\r",
              "        pm.variables.set('temp_orderId', responseJson.orders[0].orderId);\r",
              "        pm.variables.set('temp_orderDetailId', responseJson.orders[0].details[0].orderDetailId);\r",
              "        pm.variables.set('temp_barcodeId', responseJson.orders[0].details[0].barcodes[0].barcodeId);\r",
              "    }\r",
              ");"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "b6af6197-cd07-4889-8c1c-6b440b484754",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\",\r\n    \"pallets\": {{$randomInt}},\r\n    \"palletUnits\": \"PLT\"\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes",
            "{{temp_barcodeId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-b6af6197-cd07-4889-8c1c-6b440b484754"
    }
  },
  {
    "ID": "5e7d2012-8275-4f90-bccb-8bc5c9da3de8",
    "Name": "Update Barcode",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / barcodeId / PUT / 200",
    "Request": {
      "name": "Update Barcode",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "2fb37026-9f28-4244-8164-427694d26c4f",
            "exec": [
              "if (pm.response.code == 200) {\r",
              "    let responseJson = pm.response.json();\r",
              "    pm.test(\"barcodes.cube calculated - L,W,H are all 11 FT (11x11x11 = 1331 FT3)\", () => {\r",
              "        pm.expect(responseJson.cube).to.eq(1331);\r",
              "        pm.expect(responseJson.cubeUnits).to.eq('FT3');\r",
              "    });\r",
              "}"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "c214d58b-5da2-46d9-bf07-5d2fea729da7",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": 'BCLAN'\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ]\r",
              ");"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "5e7d2012-8275-4f90-bccb-8bc5c9da3de8",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\",\r\n    \"pallets\": {{$randomInt}},\r\n    \"palletUnits\": \"PLT\",\r\n    \"height\": 11,\r\n    \"heightUnits\": \"FT\",\r\n    \"length\": 11,\r\n    \"lengthUnits\": \"FT\",\r\n    \"width\": 11,\r\n    \"widthUnits\": \"FT\",\r\n    \"cube\": 15,\r\n    \"cubeUnits\": \"FT3\",\r\n    \"user1\": \"{{$randomProduct}}\",\r\n    \"user2\": \"{{$randomProduct}}\",\r\n    \"user3\": \"{{$randomProduct}}\",\r\n    \"user4\": \"{{$randomProduct}}\",\r\n    \"user5\": \"{{$randomProduct}}\"\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes",
            "{{temp_barcodeId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-5e7d2012-8275-4f90-bccb-8bc5c9da3de8"
    }
  },
  {
    "ID": "f271d6ac-6fa4-4dc8-8105-77ad41ff6c07",
    "Name": "Update Barcode - Calculate Cube Automatically",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / barcodeId / PUT / 200",
    "Request": {
      "name": "Update Barcode - Calculate Cube Automatically",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "2fb37026-9f28-4244-8164-427694d26c4f",
            "exec": [
              "if (pm.response.code == 200) {\r",
              "\r",
              "   let responseJson = pm.response.json();\r",
              "   cubeResponse = responseJson.cube;\r",
              "   let reqJson = JSON.parse(pm.request.body.raw);\r",
              "   let reqCube = (reqJson.length * reqJson.width * reqJson.height);\r",
              "\r",
              "    pm.test(\"Calculated Cubes\", () => pm.expect(reqCube).to.equal(cubeResponse));\r",
              "}"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "c214d58b-5da2-46d9-bf07-5d2fea729da7",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": 'BCLAN'\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ]\r",
              ");"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "f271d6ac-6fa4-4dc8-8105-77ad41ff6c07",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"length\": 2,\r\n    \"lengthUnits\": \"FT\",\r\n    \"width\": 2,\r\n    \"widthUnits\": \"FT\",\r\n    \"height\": 2,\r\n    \"heightUnits\": \"FT\",\r\n    \"user1\": \"{{$randomProduct}}\"\r\n}\r\n\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes",
            "{{temp_barcodeId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-f271d6ac-6fa4-4dc8-8105-77ad41ff6c07"
    }
  },
  {
    "ID": "df668574-f582-4bd2-8ea1-b60ad80bc841",
    "Name": "Update Barcode's altBarcode1 Quote",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}?type=Q",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / barcodeId / PUT / 200",
    "Request": {
      "name": "Update Barcode's altBarcode1 Quote",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "2fb37026-9f28-4244-8164-427694d26c4f",
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "c214d58b-5da2-46d9-bf07-5d2fea729da7",
            "exec": [
              "utils.createRateQuote(pm,  \r",
              "     [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": 'BCLAN',\r",
              "            \"endZone\": 'ABCAL',\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": 'BCLAN'\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ]\r",
              "    );"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "df668574-f582-4bd2-8ea1-b60ad80bc841",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"altBarcode1\": \"{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}{{$randomAlphaNumeric}}\"\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}?type=Q",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes",
            "{{temp_barcodeId}}"
          ],
          "query": [
            {
              "key": "type",
              "value": "Q"
            }
          ]
        }
      },
      "response": [],
      "uid": "8229908-df668574-f582-4bd2-8ea1-b60ad80bc841"
    }
  },
  {
    "ID": "7eb1fbe4-1641-44fc-a915-2aa674ec4cb4",
    "Name": "noValidFields",
    "Method": "PUT",
    "URL": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}/barcodes/{{grandchildResourceId}}",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / barcodeId / PUT / 4xx / Invalid Request Body",
    "Request": {
      "name": "noValidFields",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "8d919cdf-5b97-4852-846e-64f9cc9d22a7",
            "exec": [
              "utils.testInvalidRequestFieldsResponse();"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "902af707-5349-42e2-863b-0ebab2c81a1e",
            "exec": [
              " \r",
              " utils.setResourceId(pm,'postedOrder','details','orderDetailId');\r",
              "utils.setGrandchildResourceId(pm,'postedOrder','details/barcodes','barcodeId');"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "7eb1fbe4-1641-44fc-a915-2aa674ec4cb4",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "name": "Content-Type",
            "type": "text",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{POSTED_orderId}}/details/{{resourceId}}/barcodes/{{grandchildResourceId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{POSTED_orderId}}",
            "details",
            "{{resourceId}}",
            "barcodes",
            "{{grandchildResourceId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-7eb1fbe4-1641-44fc-a915-2aa674ec4cb4"
    }
  },
  {
    "ID": "16866b69-e292-4383-b39b-81ef8c47206d",
    "Name": "barcodeId",
    "Method": "DELETE",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / barcodeId / DELETE / 204",
    "Request": {
      "name": "barcodeId",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "2fb37026-9f28-4244-8164-427694d26c4f",
            "exec": [
              "//standard tests are in parent folder 204\r",
              "if (pm.response.code == 204) {\r",
              "}"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "c214d58b-5da2-46d9-bf07-5d2fea729da7",
            "exec": [
              "utils.createPostedOrders(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": pm.environment.get('START_ZONE')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ]\r",
              ");"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "16866b69-e292-4383-b39b-81ef8c47206d",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "DELETE",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes",
            "{{temp_barcodeId}}"
          ]
        }
      },
      "response": [],
      "uid": "8229908-16866b69-e292-4383-b39b-81ef8c47206d"
    }
  },
  {
    "ID": "86cde2c3-9286-4584-a736-0cc0f37c2bf0",
    "Name": "barcodeId Quote",
    "Method": "DELETE",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}?type=Q",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / barcodeId / DELETE / 204",
    "Request": {
      "name": "barcodeId Quote",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "2fb37026-9f28-4244-8164-427694d26c4f",
            "exec": [
              "//standard tests are in parent folder 204\r",
              "if (pm.response.code == 204) {\r",
              "}"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "c214d58b-5da2-46d9-bf07-5d2fea729da7",
            "exec": [
              "utils.createRateQuote(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"endZone\": pm.environment.get(\"END_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": pm.environment.get('START_ZONE')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ]\r",
              ");"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "86cde2c3-9286-4584-a736-0cc0f37c2bf0",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "DELETE",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}?type=Q",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes",
            "{{temp_barcodeId}}"
          ],
          "query": [
            {
              "key": "type",
              "value": "Q"
            }
          ]
        }
      },
      "response": [],
      "uid": "8229908-86cde2c3-9286-4584-a736-0cc0f37c2bf0"
    }
  },
  {
    "ID": "1f16ae9e-66d7-4e8b-8580-e3987cc985b8",
    "Name": "barcodeId PUR - TM-160481",
    "Method": "DELETE",
    "URL": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}?type=Q",
    "Folder": "orders / orderId / details / orderDetailId / barcodes / barcodeId / DELETE / 204",
    "Request": {
      "name": "barcodeId PUR - TM-160481",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "2fb37026-9f28-4244-8164-427694d26c4f",
            "exec": [
              "//standard tests are in parent folder 204\r",
              "if (pm.response.code == 204) {\r",
              "}"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "c214d58b-5da2-46d9-bf07-5d2fea729da7",
            "exec": [
              "utils.createPURs(pm,\r",
              "    [\r",
              "        {\r",
              "            \"pickUpBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"pickUpByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverBy\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"deliverByEnd\": pm.globals.get(\"timestampUtcIso8601\"),\r",
              "            \"startZone\": pm.environment.get(\"START_ZONE\"),\r",
              "            \"endZone\": pm.environment.get(\"END_ZONE\"),\r",
              "            \"caller\": {\r",
              "                \"clientId\": \"TM\"\r",
              "            },\r",
              "            \"details\":[\r",
              "                {\r",
              "                    \"description\": pm.variables.replaceIn('Automation: {{$randomColor}} {{$randomProduct}}'),\r",
              "                    \"items\": 1,\r",
              "                    \"barcodes\": [\r",
              "                        {\r",
              "                            \"altBarcode1\": pm.environment.get('START_ZONE')\r",
              "                        }\r",
              "                    ]\r",
              "                }\r",
              "            ]\r",
              "        }\r",
              "    ]\r",
              ");"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "1f16ae9e-66d7-4e8b-8580-e3987cc985b8",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{TRUCKMATE_NO_AUTOPOST_API_KEY}}",
              "type": "string"
            }
          ]
        },
        "method": "DELETE",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{DOMAIN}}/orders/{{temp_orderId}}/details/{{temp_orderDetailId}}/barcodes/{{temp_barcodeId}}?type=Q",
          "host": [
            "{{DOMAIN}}"
          ],
          "path": [
            "orders",
            "{{temp_orderId}}",
            "details",
            "{{temp_orderDetailId}}",
            "barcodes",
            "{{temp_barcodeId}}"
          ],
          "query": [
            {
              "key": "type",
              "value": "Q"
            }
          ]
        }
      },
      "response": [],
      "uid": "8229908-1f16ae9e-66d7-4e8b-8580-e3987cc985b8"
    }
  }
]
